/// <reference types="node" />
/// <reference types="node" />
import { Workspace } from '@yarnpkg/core';
import { PortablePath } from '@yarnpkg/fslib';
export declare function makePublishBody(workspace: Workspace, buffer: Buffer, { access, tag, registry, gitHead }: {
    access: string | undefined;
    tag: string;
    registry: string;
    gitHead?: string;
}): Promise<{
    _id: string;
    _attachments: {
        [x: string]: {
            content_type: string;
            data: string;
            length: number;
        };
    };
    name: string;
    access: string | undefined;
    "dist-tags": {
        [x: string]: string;
    };
    versions: {
        [x: string]: {
            _id: string;
            name: string;
            version: string;
            gitHead: string | undefined;
            dist: {
                shasum: string;
                integrity: string;
                tarball: string;
            };
        };
    };
}>;
export declare function getGitHead(workingDir: PortablePath): Promise<string | undefined>;
