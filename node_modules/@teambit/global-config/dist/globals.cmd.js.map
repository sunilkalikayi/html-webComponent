{"version":3,"names":["GlobalsCmd","constructor","globalConfig","report","list","json","leftCol","Object","keys","padMax","Math","max","map","c","length","values","key","keyPadded","padRight","chalk","green","join","title","CACHE_GLOBALS_ENV","getKnownGlobalDirs"],"sources":["globals.cmd.ts"],"sourcesContent":["// eslint-disable-next-line max-classes-per-file\nimport { Command, CommandOptions } from '@teambit/cli';\nimport chalk from 'chalk';\nimport padRight from 'pad-right';\nimport { CACHE_GLOBALS_ENV } from '@teambit/legacy/dist/constants';\nimport { GlobalConfigMain } from './global-config.main.runtime';\n\nexport class GlobalsCmd implements Command {\n  name = 'globals';\n  description = `list all globals`;\n  group = 'workspace';\n  alias = '';\n  options = [['j', 'json', 'json format']] as CommandOptions;\n\n  constructor(private globalConfig: GlobalConfigMain) {}\n\n  async report() {\n    const list = await this.json();\n    const leftCol = Object.keys(list);\n    const padMax = Math.max(...leftCol.map((c) => c.length)) + 1;\n    const values = Object.keys(list)\n      .map((key) => {\n        const keyPadded = padRight(key, padMax, ' ');\n        return `${chalk.green(keyPadded)} ${list[key]}`;\n      })\n      .join('\\n');\n\n    const title = `the following globals are used by Bit. to change the global root dir, use \"${CACHE_GLOBALS_ENV}\" env variable`;\n\n    return `${title}\\n\\n${values}`;\n  }\n\n  async json() {\n    return this.globalConfig.getKnownGlobalDirs();\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAJA;;AAOO,MAAMA,UAAU,CAAoB;EAOzCC,WAAW,CAASC,YAA8B,EAAE;IAAA,KAAhCA,YAA8B,GAA9BA,YAA8B;IAAA,8CAN3C,SAAS;IAAA,qDACD,kBAAiB;IAAA,+CACxB,WAAW;IAAA,+CACX,EAAE;IAAA,iDACA,CAAC,CAAC,GAAG,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;EAEa;EAErD,MAAMC,MAAM,GAAG;IACb,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACC,IAAI,EAAE;IAC9B,MAAMC,OAAO,GAAGC,MAAM,CAACC,IAAI,CAACJ,IAAI,CAAC;IACjC,MAAMK,MAAM,GAAGC,IAAI,CAACC,GAAG,CAAC,GAAGL,OAAO,CAACM,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC;IAC5D,MAAMC,MAAM,GAAGR,MAAM,CAACC,IAAI,CAACJ,IAAI,CAAC,CAC7BQ,GAAG,CAAEI,GAAG,IAAK;MACZ,MAAMC,SAAS,GAAG,IAAAC,mBAAQ,EAACF,GAAG,EAAEP,MAAM,EAAE,GAAG,CAAC;MAC5C,OAAQ,GAAEU,gBAAK,CAACC,KAAK,CAACH,SAAS,CAAE,IAAGb,IAAI,CAACY,GAAG,CAAE,EAAC;IACjD,CAAC,CAAC,CACDK,IAAI,CAAC,IAAI,CAAC;IAEb,MAAMC,KAAK,GAAI,8EAA6EC,8BAAkB,gBAAe;IAE7H,OAAQ,GAAED,KAAM,OAAMP,MAAO,EAAC;EAChC;EAEA,MAAMV,IAAI,GAAG;IACX,OAAO,IAAI,CAACH,YAAY,CAACsB,kBAAkB,EAAE;EAC/C;AACF;AAAC"}