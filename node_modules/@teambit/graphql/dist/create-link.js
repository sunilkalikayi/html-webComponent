"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createSplitLink = createSplitLink;
function _client() {
  const data = require("@apollo/client");
  _client = function () {
    return data;
  };
  return data;
}
function _utilities() {
  const data = require("@apollo/client/utilities");
  _utilities = function () {
    return data;
  };
  return data;
}
/**
 * create a link which splits routes data depending on type of operation.
 * @param httpLink http link for apollo graphql
 * @param wsLink web socket link for apollo graphql
 */
function createSplitLink(httpLink, wsLink) {
  return (0, _client().split)(
  // split based on operation type
  ({
    query
  }) => {
    const definition = (0, _utilities().getMainDefinition)(query);
    return definition.kind === 'OperationDefinition' && definition.operation === 'subscription';
  }, wsLink, httpLink);
}

//# sourceMappingURL=create-link.js.map