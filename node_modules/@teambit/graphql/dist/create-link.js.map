{"version":3,"names":["createSplitLink","httpLink","wsLink","split","query","definition","getMainDefinition","kind","operation"],"sources":["create-link.ts"],"sourcesContent":["import { HttpLink, split } from '@apollo/client';\nimport { getMainDefinition } from '@apollo/client/utilities';\nimport type { WebSocketLink } from '@apollo/client/link/ws';\n\n/**\n * create a link which splits routes data depending on type of operation.\n * @param httpLink http link for apollo graphql\n * @param wsLink web socket link for apollo graphql\n */\nexport function createSplitLink(httpLink: HttpLink, wsLink: WebSocketLink) {\n  return split(\n    // split based on operation type\n    ({ query }) => {\n      const definition = getMainDefinition(query);\n      return definition.kind === 'OperationDefinition' && definition.operation === 'subscription';\n    },\n    wsLink,\n    httpLink\n  );\n}\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACO,SAASA,eAAe,CAACC,QAAkB,EAAEC,MAAqB,EAAE;EACzE,OAAO,IAAAC,eAAK;EACV;EACA,CAAC;IAAEC;EAAM,CAAC,KAAK;IACb,MAAMC,UAAU,GAAG,IAAAC,8BAAiB,EAACF,KAAK,CAAC;IAC3C,OAAOC,UAAU,CAACE,IAAI,KAAK,qBAAqB,IAAIF,UAAU,CAACG,SAAS,KAAK,cAAc;EAC7F,CAAC,EACDN,MAAM,EACND,QAAQ,CACT;AACH"}