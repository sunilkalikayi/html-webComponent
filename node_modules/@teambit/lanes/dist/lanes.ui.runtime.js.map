{"version":3,"names":["LanesUI","constructor","componentUi","routeSlot","navSlot","menuWidgetSlot","overviewSlot","workspace","scope","idFromLocation","useIdFromLocation","lanesModel","useLanes","laneFromUrl","useViewedLaneFromUrl","laneComponentId","isDefault","resolveComponentByFullName","undefined","getLaneComponentIdFromUrl","toString","log","logHead","version","children","hostAspect","lanesHost","host","WorkspaceAspect","id","ScopeAspect","registerHostAspectRoutes","registerRoutes","getLaneRoutes","registerMenuRoutes","getMenuRoutes","path","LanesModel","lanesPrefix","lanePath","getLaneOverview","getLaneComponent","overrideComputeLaneUrl","fn","prefix","getLaneComponentUrl","getLaneIdFromPathname","getLaneUrl","getComponentUI","componentId","useComponentId","useComponentFilters","getLaneComponentMenu","getMenu","getLanesOverviewMenu","registerMenuWidget","menuItems","register","registerLanesRoutes","registerNavigation","props","href","exact","order","getLanesSwitcher","LanesSwitcher","getLanesProvider","LanesProvider","getUseLanes","registerLanesDropdown","registerSidebarLink","component","Gallery","weight","registerRoute","route","registerOverviewLine","lines","routes","provider","uiUi","workspaceUi","scopeUi","_","harmony","config","String","get","lanesUi","registerRenderHooks","reactContext","renderContext","viewedLane","currentLane","UIAspect","ComponentAspect","SidebarAspect","UIRuntime","Slot","withType","LanesAspect","addRuntime"],"sources":["lanes.ui.runtime.tsx"],"sourcesContent":["import React, { ReactNode } from 'react';\nimport { Route, RouteProps } from 'react-router-dom';\nimport { Slot, Harmony } from '@teambit/harmony';\nimport { UIRuntime, UiUI, UIAspect } from '@teambit/ui';\nimport { LanesAspect } from '@teambit/lanes';\nimport { NavigationSlot, RouteSlot } from '@teambit/ui-foundation.ui.react-router.slot-router';\nimport { NotFoundPage } from '@teambit/design.ui.pages.not-found';\nimport ScopeAspect, { ScopeUI } from '@teambit/scope';\nimport WorkspaceAspect, { WorkspaceUI } from '@teambit/workspace';\nimport ComponentAspect, { ComponentID, ComponentUI, useIdFromLocation } from '@teambit/component';\nimport SidebarAspect, { SidebarUI } from '@teambit/sidebar';\nimport { MenuWidget, MenuWidgetSlot } from '@teambit/ui-foundation.ui.menu';\nimport { LaneOverview, LaneOverviewLine, LaneOverviewLineSlot } from '@teambit/lanes.ui.lane-overview';\nimport {\n  LanesNavPlugin,\n  LanesOrderedNavigationSlot,\n  LanesOverviewMenu,\n} from '@teambit/lanes.ui.menus.lanes-overview-menu';\nimport { UseLaneMenu } from '@teambit/lanes.ui.menus.use-lanes-menu';\nimport { LanesHost, LanesModel } from '@teambit/lanes.ui.models.lanes-model';\nimport { LanesProvider, useLanes } from '@teambit/lanes.hooks.use-lanes';\nimport { LaneSwitcher } from '@teambit/lanes.ui.navigation.lane-switcher';\nimport { LaneId } from '@teambit/lane-id';\nimport { useViewedLaneFromUrl } from '@teambit/lanes.hooks.use-viewed-lane-from-url';\n\nexport class LanesUI {\n  static dependencies = [UIAspect, ComponentAspect, WorkspaceAspect, ScopeAspect, SidebarAspect];\n  static runtime = UIRuntime;\n  static slots = [\n    Slot.withType<RouteProps>(),\n    Slot.withType<LaneOverviewLineSlot>(),\n    Slot.withType<NavigationSlot>(),\n    Slot.withType<MenuWidgetSlot>(),\n  ];\n\n  constructor(\n    private componentUi: ComponentUI,\n    private routeSlot: RouteSlot,\n    private navSlot: LanesOrderedNavigationSlot,\n    private menuWidgetSlot: MenuWidgetSlot,\n    /**\n     * overview line slot to add new lines beneath the overview section\n     */\n    private overviewSlot: LaneOverviewLineSlot,\n    private workspace?: WorkspaceUI,\n    private scope?: ScopeUI\n  ) {\n    this.hostAspect = workspace || scope;\n    this.lanesHost = workspace ? 'workspace' : 'scope';\n    this.host = workspace ? WorkspaceAspect.id : ScopeAspect.id;\n  }\n\n  private readonly lanesHost: LanesHost;\n  private readonly hostAspect?: WorkspaceUI | ScopeUI;\n  private readonly host: string;\n\n  private registerHostAspectRoutes() {\n    if (!this.hostAspect) return;\n    this.hostAspect.registerRoutes(this.getLaneRoutes());\n    this.hostAspect.registerMenuRoutes(this.getMenuRoutes());\n  }\n\n  getLaneRoutes() {\n    return [\n      {\n        path: LanesModel.lanesPrefix,\n        children: (\n          <>\n            <Route path={LanesModel.lanePath}>\n              <Route index element={this.getLaneOverview()} />\n              <Route path=\"~component/*\" element={this.getLaneComponent()} />\n              <Route path=\"*\" element={<NotFoundPage />} />\n            </Route>\n            <Route path=\"*\" element={<NotFoundPage />} />\n          </>\n        ),\n      },\n    ];\n  }\n\n  overrideComputeLaneUrl(\n    fn: () => {\n      prefix: string;\n      path: string;\n      getLaneIdFromPathname: (pathname: string) => LaneId | undefined;\n      getLaneUrl: (laneId: LaneId, relative?: boolean) => string;\n      getLaneComponentUrl: (componentId: ComponentID, laneId: LaneId) => string;\n    }\n  ) {\n    const { prefix, path, getLaneComponentUrl, getLaneIdFromPathname, getLaneUrl } = fn();\n    LanesModel.lanesPrefix = prefix;\n    LanesModel.lanePath = path;\n    LanesModel.getLaneComponentUrl = getLaneComponentUrl;\n    LanesModel.getLaneUrl = getLaneUrl;\n    LanesModel.getLaneIdFromPathname = getLaneIdFromPathname;\n  }\n\n  // getLaneReadme() {\n  //   return <LaneReadmeOverview host={this.host} overviewSlot={this.overviewSlot} routeSlot={this.routeSlot} />;\n  // }\n\n  getLaneComponentIdFromUrl = () => {\n    const idFromLocation = useIdFromLocation();\n    const { lanesModel } = useLanes();\n    const laneFromUrl = useViewedLaneFromUrl();\n    const laneComponentId =\n      idFromLocation && !laneFromUrl?.isDefault()\n        ? lanesModel?.resolveComponentByFullName(idFromLocation, laneFromUrl)\n        : undefined;\n    return laneComponentId;\n  };\n\n  useComponentId = () => {\n    return this.getLaneComponentIdFromUrl()?.toString();\n  };\n\n  useComponentFilters = () => {\n    const laneComponentId = this.getLaneComponentIdFromUrl();\n\n    return {\n      log: laneComponentId && {\n        logHead: laneComponentId.version,\n      },\n    };\n  };\n\n  getLaneComponent() {\n    return this.componentUi.getComponentUI(this.host, {\n      componentId: this.useComponentId,\n      useComponentFilters: this.useComponentFilters,\n    });\n  }\n\n  getLaneComponentMenu() {\n    return this.componentUi.getMenu(this.host, {\n      componentId: this.useComponentId,\n      useComponentFilters: this.useComponentFilters,\n    });\n  }\n\n  getLaneOverview() {\n    return <LaneOverview routeSlot={this.routeSlot} overviewSlot={this.overviewSlot} host={this.lanesHost} />;\n  }\n\n  getMenuRoutes() {\n    return [\n      {\n        path: LanesModel.lanesPrefix,\n        children: (\n          <Route path={`${LanesModel.lanePath}/*`}>\n            <Route path=\"*\" element={this.getLanesOverviewMenu()} />\n            <Route path=\"~component/*\" element={this.getLaneComponentMenu()} />\n          </Route>\n        ),\n      },\n    ];\n  }\n\n  getLanesOverviewMenu() {\n    return <LanesOverviewMenu navigationSlot={this.navSlot} widgetSlot={this.menuWidgetSlot} />;\n  }\n\n  registerMenuWidget(...menuItems: MenuWidget[]) {\n    this.menuWidgetSlot.register(menuItems);\n  }\n\n  private registerLanesRoutes() {\n    this.registerNavigation([\n      // {\n      //   props: {\n      //     href: '.',\n      //     exact: true,\n      //     children: 'README',\n      //   },\n      //   order: 1,\n      //   hide: () => {\n      //     const { lanesModel } = useLanes();\n      //     return !lanesModel?.viewedLane?.readmeComponent;\n      //   },\n      // },\n      {\n        props: {\n          href: '.',\n          exact: true,\n          children: 'Overview',\n        },\n        order: 1,\n      },\n    ]);\n  }\n\n  private registerRoutes() {\n    this.registerHostAspectRoutes();\n    this.registerLanesRoutes();\n  }\n\n  getLanesSwitcher() {\n    const LanesSwitcher = <LaneSwitcher groupByScope={this.lanesHost === 'workspace'} />;\n    return LanesSwitcher;\n  }\n\n  getLanesProvider() {\n    return LanesProvider;\n  }\n\n  getUseLanes() {\n    return useLanes;\n  }\n\n  private registerLanesDropdown() {\n    const LanesSwitcher = this.getLanesSwitcher();\n\n    this.hostAspect?.registerSidebarLink({\n      component: function Gallery() {\n        return LanesSwitcher;\n      },\n      weight: 1000,\n    });\n  }\n\n  private renderContext = ({ children }: { children: ReactNode }) => {\n    return <LanesProvider>{children}</LanesProvider>;\n  };\n\n  registerRoute(route: RouteProps) {\n    this.routeSlot.register(route);\n    return this;\n  }\n\n  /**\n   * register a new line beneath the lane overview section.\n   */\n  registerOverviewLine(...lines: LaneOverviewLine[]) {\n    this.overviewSlot.register(lines);\n    return this;\n  }\n\n  registerNavigation(routes: LanesNavPlugin[]) {\n    this.navSlot.register(routes);\n  }\n\n  static async provider(\n    [uiUi, componentUi, workspaceUi, scopeUi]: [UiUI, ComponentUI, WorkspaceUI, ScopeUI, SidebarUI],\n    _,\n    [routeSlot, overviewSlot, navSlot, menuWidgetSlot]: [\n      RouteSlot,\n      LaneOverviewLineSlot,\n      LanesOrderedNavigationSlot,\n      MenuWidgetSlot\n    ],\n    harmony: Harmony\n  ) {\n    const { config } = harmony;\n    const host = String(config.get('teambit.harmony/bit'));\n    let workspace: WorkspaceUI | undefined;\n    let scope: ScopeUI | undefined;\n    if (host === WorkspaceAspect.id) {\n      workspace = workspaceUi;\n    }\n    if (host === ScopeAspect.id) {\n      scope = scopeUi;\n    }\n    const lanesUi = new LanesUI(componentUi, routeSlot, navSlot, overviewSlot, menuWidgetSlot, workspace, scope);\n    if (uiUi) uiUi.registerRenderHooks({ reactContext: lanesUi.renderContext });\n    lanesUi.registerRoutes();\n    lanesUi.registerMenuWidget(() => {\n      const { lanesModel } = useLanes();\n      if (!lanesModel?.viewedLane) return null;\n      const { viewedLane, currentLane } = lanesModel;\n      return <UseLaneMenu host={lanesUi.lanesHost} viewedLaneId={viewedLane.id} currentLaneId={currentLane?.id} />;\n    });\n    lanesUi.registerLanesDropdown();\n    return lanesUi;\n  }\n}\n\nexport default LanesUI;\n\nLanesAspect.addRuntime(LanesUI);\n"],"mappings":"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"}