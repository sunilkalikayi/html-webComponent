{"version":3,"names":["generatorSchema","generator","typeDefs","gql","resolvers","Mutation","createComponent","req","name","templateName","options","res","generateComponentTemplate","map","component","id","toString","dir","files","Generator","templates","listTemplates","Query"],"sources":["generator.graphql.ts"],"sourcesContent":["import { Schema } from '@teambit/graphql';\nimport gql from 'graphql-tag';\nimport { GeneratorMain } from './generator.main.runtime';\n\nexport function generatorSchema(generator: GeneratorMain): Schema {\n  return {\n    typeDefs: gql`\n      type GenerateResult {\n        id: String\n        dir: String\n        files: [String]\n      }\n\n      type Mutation {\n        # create Component by template\n        createComponent(\n          name: String!\n          templateName: String!\n          scope: String\n          namespace: String\n          aspect: String\n        ): [GenerateResult]\n      }\n\n      type TemplateDescriptor {\n        aspectId: String!\n        name: String!\n      }\n\n      type Generator {\n        templates: [TemplateDescriptor]\n      }\n\n      type Query {\n        generator: Generator\n      }\n    `,\n    resolvers: {\n      Mutation: {\n        createComponent: async (\n          req: any,\n          {\n            name,\n            templateName,\n            ...options\n          }: { name: string; templateName: string; scope?: string; namespace?: string; aspect?: string }\n        ) => {\n          const res = await generator.generateComponentTemplate([name], templateName, options);\n          return res.map((component) => ({\n            id: component.id.toString(),\n            dir: component.dir,\n            files: component.files,\n          }));\n        },\n      },\n      Generator: {\n        templates: async () => {\n          return generator.listTemplates();\n        },\n      },\n      Query: {\n        generator: () => generator,\n      },\n    },\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAGO,SAASA,eAAe,CAACC,SAAwB,EAAU;EAChE,OAAO;IACLC,QAAQ,EAAE,IAAAC,qBAAG,CAAC;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;IACDC,SAAS,EAAE;MACTC,QAAQ,EAAE;QACRC,eAAe,EAAE,OACfC,GAAQ,WAML;UAAA,IALH;cACEC,IAAI;cACJC;YAE2F,CAAC;YADzFC,OAAO;UAGZ,MAAMC,GAAG,GAAG,MAAMV,SAAS,CAACW,yBAAyB,CAAC,CAACJ,IAAI,CAAC,EAAEC,YAAY,EAAEC,OAAO,CAAC;UACpF,OAAOC,GAAG,CAACE,GAAG,CAAEC,SAAS,KAAM;YAC7BC,EAAE,EAAED,SAAS,CAACC,EAAE,CAACC,QAAQ,EAAE;YAC3BC,GAAG,EAAEH,SAAS,CAACG,GAAG;YAClBC,KAAK,EAAEJ,SAAS,CAACI;UACnB,CAAC,CAAC,CAAC;QACL;MACF,CAAC;MACDC,SAAS,EAAE;QACTC,SAAS,EAAE,YAAY;UACrB,OAAOnB,SAAS,CAACoB,aAAa,EAAE;QAClC;MACF,CAAC;MACDC,KAAK,EAAE;QACLrB,SAAS,EAAE,MAAMA;MACnB;IACF;EACF,CAAC;AACH"}