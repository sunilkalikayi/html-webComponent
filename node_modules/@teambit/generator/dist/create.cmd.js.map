{"version":3,"names":["CreateCmd","constructor","generator","docsDomain","name","description","cmd","report","templateName","componentNames","options","results","generateComponentTemplate","title","length","componentsData","map","result","chalk","bold","id","toString","dir","envId","envSetBy","join","footer","green"],"sources":["create.cmd.ts"],"sourcesContent":["import { Command, CommandOptions } from '@teambit/cli';\nimport chalk from 'chalk';\nimport { GeneratorMain } from './generator.main.runtime';\n\nexport type CreateOptions = {\n  namespace?: string;\n  aspect?: string;\n  scope?: string;\n  path?: string;\n  env?: string;\n};\n\nexport class CreateCmd implements Command {\n  name = 'create <template-name> <component-names...>';\n  description = 'create a new component (source files and config) using a template.';\n  alias = '';\n  loader = true;\n  arguments = [\n    {\n      name: 'template-name',\n      description:\n        \"the template for generating the component \\n(run 'bit templates' for a list of available templates)\",\n    },\n    {\n      name: 'component-names...',\n      description: 'a list of component names to generate',\n    },\n  ];\n  examples = [\n    {\n      cmd: 'bit create react ui/button',\n      description: \"creates a component named 'ui/button' using the 'react' template\",\n    },\n    {\n      cmd: 'bit create react ui/button pages/register',\n      description: \"creates two components, 'ui/button' and 'pages/register', using the 'react' template\",\n    },\n    {\n      cmd: 'bit create react ui/button --scope my-org.my-scope',\n      description:\n        \"creates a component named 'ui/button' and sets it scope to 'my-org.my-scope'. \\nby default, the scope is the `defaultScope` value, configured in your `workspace.jsonc`.\",\n    },\n    {\n      cmd: 'bit create react ui/button --env teambit.community/envs/community-react@1.95.13',\n      description:\n        \"creates a component named 'ui/button' and sets it to use the 'community-react' env. \\n(the template's default env is 'teambit.react/react').\",\n    },\n  ];\n  group = 'development';\n  options = [\n    ['n', 'namespace <string>', `sets the component's namespace and nested dirs inside the scope`],\n    ['s', 'scope <string>', `sets the component's scope-name. if not entered, the default-scope will be used`],\n    ['a', 'aspect <string>', 'aspect-id of the template. helpful when multiple aspects use the same template name'],\n    ['p', 'path <string>', 'relative path in the workspace. by default the path is `<scope>/<namespace>/<name>`'],\n    ['e', 'env <string>', \"set the component's environment. (overrides the env from variants and the template)\"],\n  ] as CommandOptions;\n\n  constructor(private generator: GeneratorMain, private docsDomain: string) {}\n\n  async report([templateName, componentNames]: [string, string[]], options: CreateOptions) {\n    const results = await this.generator.generateComponentTemplate(componentNames, templateName, options);\n    const title = `${results.length} component(s) were created`;\n\n    const componentsData = results\n      .map((result) => {\n        return `${chalk.bold(result.id.toString())}\n    location: ${result.dir}\n    env:      ${result.envId} (set by ${result.envSetBy})\n`;\n      })\n      .join('\\n');\n    const footer = `env configuration is according to workspace variants, template config or --env flag. learn more at https://${this.docsDomain}/envs/using-envs`;\n\n    return `${chalk.green(title)}\\n\\n${componentsData}\\n\\n${footer}`;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAWO,MAAMA,SAAS,CAAoB;EA6CxCC,WAAW,CAASC,SAAwB,EAAUC,UAAkB,EAAE;IAAA,KAAtDD,SAAwB,GAAxBA,SAAwB;IAAA,KAAUC,UAAkB,GAAlBA,UAAkB;IAAA,8CA5CjE,6CAA6C;IAAA,qDACtC,oEAAoE;IAAA,+CAC1E,EAAE;IAAA,gDACD,IAAI;IAAA,mDACD,CACV;MACEC,IAAI,EAAE,eAAe;MACrBC,WAAW,EACT;IACJ,CAAC,EACD;MACED,IAAI,EAAE,oBAAoB;MAC1BC,WAAW,EAAE;IACf,CAAC,CACF;IAAA,kDACU,CACT;MACEC,GAAG,EAAE,4BAA4B;MACjCD,WAAW,EAAE;IACf,CAAC,EACD;MACEC,GAAG,EAAE,2CAA2C;MAChDD,WAAW,EAAE;IACf,CAAC,EACD;MACEC,GAAG,EAAE,oDAAoD;MACzDD,WAAW,EACT;IACJ,CAAC,EACD;MACEC,GAAG,EAAE,iFAAiF;MACtFD,WAAW,EACT;IACJ,CAAC,CACF;IAAA,+CACO,aAAa;IAAA,iDACX,CACR,CAAC,GAAG,EAAE,oBAAoB,EAAG,iEAAgE,CAAC,EAC9F,CAAC,GAAG,EAAE,gBAAgB,EAAG,iFAAgF,CAAC,EAC1G,CAAC,GAAG,EAAE,iBAAiB,EAAE,qFAAqF,CAAC,EAC/G,CAAC,GAAG,EAAE,eAAe,EAAE,qFAAqF,CAAC,EAC7G,CAAC,GAAG,EAAE,cAAc,EAAE,qFAAqF,CAAC,CAC7G;EAE0E;EAE3E,MAAME,MAAM,CAAC,CAACC,YAAY,EAAEC,cAAc,CAAqB,EAAEC,OAAsB,EAAE;IACvF,MAAMC,OAAO,GAAG,MAAM,IAAI,CAACT,SAAS,CAACU,yBAAyB,CAACH,cAAc,EAAED,YAAY,EAAEE,OAAO,CAAC;IACrG,MAAMG,KAAK,GAAI,GAAEF,OAAO,CAACG,MAAO,4BAA2B;IAE3D,MAAMC,cAAc,GAAGJ,OAAO,CAC3BK,GAAG,CAAEC,MAAM,IAAK;MACf,OAAQ,GAAEC,gBAAK,CAACC,IAAI,CAACF,MAAM,CAACG,EAAE,CAACC,QAAQ,EAAE,CAAE;AACnD,gBAAgBJ,MAAM,CAACK,GAAI;AAC3B,gBAAgBL,MAAM,CAACM,KAAM,YAAWN,MAAM,CAACO,QAAS;AACxD,CAAC;IACK,CAAC,CAAC,CACDC,IAAI,CAAC,IAAI,CAAC;IACb,MAAMC,MAAM,GAAI,8GAA6G,IAAI,CAACvB,UAAW,kBAAiB;IAE9J,OAAQ,GAAEe,gBAAK,CAACS,KAAK,CAACd,KAAK,CAAE,OAAME,cAAe,OAAMW,MAAO,EAAC;EAClE;AACF;AAAC"}