{"version":3,"names":["RouteContext","routing","Routing","url","children","location","reactRouterAdapter","RootRoute","rootRoutes","routeSlot","Router","type","static","inMemory","hash"],"sources":["route-context.tsx"],"sourcesContent":["import React, { ReactNode } from 'react';\nimport { BrowserRouter, MemoryRouter, HashRouter, RouteProps } from 'react-router-dom';\nimport { StaticRouter } from 'react-router-dom/server';\nimport { RouteSlot, SlotRouter } from '@teambit/ui-foundation.ui.react-router.slot-router';\nimport { NavigationProvider } from '@teambit/base-react.navigation.link';\nimport { reactRouterAdapter } from '@teambit/ui-foundation.ui.navigation.react-router-adapter';\nimport { ReactRouterUI } from './react-router.ui.runtime';\nimport { Routing } from './routing-method';\n\ntype RouterContextProps = {\n  reactRouterUi: ReactRouterUI;\n  routing?: Routing;\n  children: ReactNode;\n  location?: string;\n};\n\ntype RootRouteProps = {\n  rootRoutes: RouteProps[];\n  routeSlot: RouteSlot;\n};\n\n/**\n * Setup context needed for routing.\n */\nexport function RouteContext({ routing = Routing.url, children, location }: RouterContextProps) {\n  return (\n    <Router type={routing} location={location}>\n      <NavigationProvider implementation={reactRouterAdapter}>{children}</NavigationProvider>\n    </Router>\n  );\n}\n\nexport function RootRoute({ rootRoutes, routeSlot }: RootRouteProps) {\n  return <SlotRouter slot={routeSlot} rootRoutes={rootRoutes} />;\n}\n\n/** provides the router engine (browser, inMemory, etc) */\nfunction Router({ type, children, location }: { type: Routing; children: ReactNode; location?: string }) {\n  switch (type) {\n    case Routing.static:\n      return <StaticRouter location={location || '/'}>{children}</StaticRouter>;\n    case Routing.inMemory:\n      return (\n        <MemoryRouter initialEntries={[location || '/']} initialIndex={1}>\n          {children}\n        </MemoryRouter>\n      );\n    case Routing.hash:\n      // @ts-ignore - https://github.com/teambit/bit/issues/5746\n      return <HashRouter>{children}</HashRouter>;\n    case Routing.url:\n    default:\n      // @ts-ignore - https://github.com/teambit/bit/issues/5746\n      return <BrowserRouter>{children}</BrowserRouter>;\n  }\n}\n"],"mappings":";;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAcA;AACA;AACA;AACO,SAASA,YAAY,CAAC;EAAEC,OAAO,GAAGC,wBAAO,CAACC,GAAG;EAAEC,QAAQ;EAAEC;AAA6B,CAAC,EAAE;EAC9F,oBACE,+BAAC,MAAM;IAAC,IAAI,EAAEJ,OAAQ;IAAC,QAAQ,EAAEI;EAAS,gBACxC,+BAAC,yCAAkB;IAAC,cAAc,EAAEC;EAAmB,GAAEF,QAAQ,CAAsB,CAChF;AAEb;AAEO,SAASG,SAAS,CAAC;EAAEC,UAAU;EAAEC;AAA0B,CAAC,EAAE;EACnE,oBAAO,+BAAC,uCAAU;IAAC,IAAI,EAAEA,SAAU;IAAC,UAAU,EAAED;EAAW,EAAG;AAChE;;AAEA;AACA,SAASE,MAAM,CAAC;EAAEC,IAAI;EAAEP,QAAQ;EAAEC;AAAoE,CAAC,EAAE;EACvG,QAAQM,IAAI;IACV,KAAKT,wBAAO,CAACU,MAAM;MACjB,oBAAO,+BAAC,sBAAY;QAAC,QAAQ,EAAEP,QAAQ,IAAI;MAAI,GAAED,QAAQ,CAAgB;IAC3E,KAAKF,wBAAO,CAACW,QAAQ;MACnB,oBACE,+BAAC,8BAAY;QAAC,cAAc,EAAE,CAACR,QAAQ,IAAI,GAAG,CAAE;QAAC,YAAY,EAAE;MAAE,GAC9DD,QAAQ,CACI;IAEnB,KAAKF,wBAAO,CAACY,IAAI;MACf;MACA,oBAAO,+BAAC,4BAAU,QAAEV,QAAQ,CAAc;IAC5C,KAAKF,wBAAO,CAACC,GAAG;IAChB;MACE;MACA,oBAAO,+BAAC,+BAAa,QAAEC,QAAQ,CAAiB;EAAC;AAEvD"}