{"version":3,"names":["ScopeRenameCmd","constructor","renaming","name","description","report","oldName","newName","refactor","scopeRenamedComponentIds","refactoredIds","renameScope","title","chalk","green","renamedIdsStr","length","bold","map","c","changeScope","join","refactoredStr"],"sources":["scope-rename.cmd.ts"],"sourcesContent":["import { Command, CommandOptions } from '@teambit/cli';\nimport chalk from 'chalk';\nimport { RenamingMain } from './renaming.main.runtime';\n\nexport class ScopeRenameCmd implements Command {\n  name = 'rename <current-scope-name> <new-scope-name>';\n  description = \"Renames the scope name for all components with the specified 'current scope name'\";\n  arguments = [\n    { name: 'current-scope-name', description: 'the scope name to be replaced by another scope name' },\n    { name: 'new-scope-name', description: 'a new scope name to replace the current scope name' },\n  ];\n  options = [\n    [\n      'r',\n      'refactor',\n      'update the import statements in all dependent components to the new package name (that contains the new scope name)',\n    ],\n  ] as CommandOptions;\n  group = 'development';\n\n  constructor(private renaming: RenamingMain) {}\n\n  async report([oldName, newName]: [string, string], { refactor }: { refactor?: boolean }) {\n    const { scopeRenamedComponentIds, refactoredIds } = await this.renaming.renameScope(oldName, newName, { refactor });\n    const title = chalk.green(`successfully replaced \"${oldName}\" scope with \"${newName}\"`);\n    const renamedIdsStr = scopeRenamedComponentIds.length\n      ? `\\n${chalk.bold(\n          'the following components were affected by this scope-name change:'\n        )}\\n${scopeRenamedComponentIds.map((c) => c.changeScope(newName)).join('\\n')}`\n      : '';\n    const refactoredStr = refactoredIds.length\n      ? `\\n\\n${chalk.bold('the following components have been refactored:')}\\n${refactoredIds.join('\\n')}`\n      : '';\n    return `${title}\\n${renamedIdsStr}${refactoredStr}`;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAGO,MAAMA,cAAc,CAAoB;EAgB7CC,WAAW,CAASC,QAAsB,EAAE;IAAA,KAAxBA,QAAsB,GAAtBA,QAAsB;IAAA,8CAfnC,8CAA8C;IAAA,qDACvC,mFAAmF;IAAA,mDACrF,CACV;MAAEC,IAAI,EAAE,oBAAoB;MAAEC,WAAW,EAAE;IAAsD,CAAC,EAClG;MAAED,IAAI,EAAE,gBAAgB;MAAEC,WAAW,EAAE;IAAqD,CAAC,CAC9F;IAAA,iDACS,CACR,CACE,GAAG,EACH,UAAU,EACV,qHAAqH,CACtH,CACF;IAAA,+CACO,aAAa;EAEwB;EAE7C,MAAMC,MAAM,CAAC,CAACC,OAAO,EAAEC,OAAO,CAAmB,EAAE;IAAEC;EAAiC,CAAC,EAAE;IACvF,MAAM;MAAEC,wBAAwB;MAAEC;IAAc,CAAC,GAAG,MAAM,IAAI,CAACR,QAAQ,CAACS,WAAW,CAACL,OAAO,EAAEC,OAAO,EAAE;MAAEC;IAAS,CAAC,CAAC;IACnH,MAAMI,KAAK,GAAGC,gBAAK,CAACC,KAAK,CAAE,0BAAyBR,OAAQ,iBAAgBC,OAAQ,GAAE,CAAC;IACvF,MAAMQ,aAAa,GAAGN,wBAAwB,CAACO,MAAM,GAChD,KAAIH,gBAAK,CAACI,IAAI,CACb,mEAAmE,CACnE,KAAIR,wBAAwB,CAACS,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,WAAW,CAACb,OAAO,CAAC,CAAC,CAACc,IAAI,CAAC,IAAI,CAAE,EAAC,GAC9E,EAAE;IACN,MAAMC,aAAa,GAAGZ,aAAa,CAACM,MAAM,GACrC,OAAMH,gBAAK,CAACI,IAAI,CAAC,gDAAgD,CAAE,KAAIP,aAAa,CAACW,IAAI,CAAC,IAAI,CAAE,EAAC,GAClG,EAAE;IACN,OAAQ,GAAET,KAAM,KAAIG,aAAc,GAAEO,aAAc,EAAC;EACrD;AACF;AAAC"}