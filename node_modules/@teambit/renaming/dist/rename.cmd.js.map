{"version":3,"names":["RenameCmd","constructor","renaming","name","description","report","sourceId","targetId","options","results","rename","chalk","green","bold","toString"],"sources":["rename.cmd.ts"],"sourcesContent":["import chalk from 'chalk';\nimport { Command, CommandOptions } from '@teambit/cli';\nimport { RenamingMain } from '.';\n\nexport type RenameOptions = {\n  scope?: string;\n  path?: string;\n  refactor?: boolean;\n};\n\nexport class RenameCmd implements Command {\n  name = 'rename <current-name> <new-name>';\n  description =\n    'EXPERIMENTAL. rename component. if tagged/exported, create a new component and deprecate the original component';\n  arguments = [\n    {\n      name: 'current-name',\n      description: 'the current component name (without its scope name)',\n    },\n    {\n      name: 'new-name',\n      description: 'the new component name (without its scope name)',\n    },\n  ];\n  group = 'collaborate';\n  skipWorkspace = true;\n  alias = '';\n  options = [\n    ['s', 'scope <scope-name>', 'default scope for the newly created component'],\n    [\n      'p',\n      'path <relative-path>',\n      'relative path in the workspace. by default the path is `<scope>/<namespace>/<name>`',\n    ],\n    ['r', 'refactor', 'update the import/require statements in all dependent components (in the same workspace)'],\n  ] as CommandOptions;\n  loader = true;\n  migration = true;\n  remoteOp = true;\n\n  constructor(private renaming: RenamingMain) {}\n\n  async report([sourceId, targetId]: [string, string], options: RenameOptions): Promise<string> {\n    const results = await this.renaming.rename(sourceId, targetId, options);\n    return chalk.green(\n      `successfully renamed ${chalk.bold(results.sourceId.toString())} to ${chalk.bold(results.targetId.toString())}`\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAUO,MAAMA,SAAS,CAAoB;EA8BxCC,WAAW,CAASC,QAAsB,EAAE;IAAA,KAAxBA,QAAsB,GAAtBA,QAAsB;IAAA,8CA7BnC,kCAAkC;IAAA,qDAEvC,iHAAiH;IAAA,mDACvG,CACV;MACEC,IAAI,EAAE,cAAc;MACpBC,WAAW,EAAE;IACf,CAAC,EACD;MACED,IAAI,EAAE,UAAU;MAChBC,WAAW,EAAE;IACf,CAAC,CACF;IAAA,+CACO,aAAa;IAAA,uDACL,IAAI;IAAA,+CACZ,EAAE;IAAA,iDACA,CACR,CAAC,GAAG,EAAE,oBAAoB,EAAE,+CAA+C,CAAC,EAC5E,CACE,GAAG,EACH,sBAAsB,EACtB,qFAAqF,CACtF,EACD,CAAC,GAAG,EAAE,UAAU,EAAE,0FAA0F,CAAC,CAC9G;IAAA,gDACQ,IAAI;IAAA,mDACD,IAAI;IAAA,kDACL,IAAI;EAE8B;EAE7C,MAAMC,MAAM,CAAC,CAACC,QAAQ,EAAEC,QAAQ,CAAmB,EAAEC,OAAsB,EAAmB;IAC5F,MAAMC,OAAO,GAAG,MAAM,IAAI,CAACP,QAAQ,CAACQ,MAAM,CAACJ,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,CAAC;IACvE,OAAOG,gBAAK,CAACC,KAAK,CACf,wBAAuBD,gBAAK,CAACE,IAAI,CAACJ,OAAO,CAACH,QAAQ,CAACQ,QAAQ,EAAE,CAAE,OAAMH,gBAAK,CAACE,IAAI,CAACJ,OAAO,CAACF,QAAQ,CAACO,QAAQ,EAAE,CAAE,EAAC,CAChH;EACH;AACF;AAAC"}