{"version":3,"names":["AppTypePlugin","constructor","pattern","appType","appSlot","MainRuntime","name","register","object","app","createApp","validateApp","includes","BitError"],"sources":["app-type.plugin.ts"],"sourcesContent":["import { PluginDefinition } from '@teambit/aspect-loader';\nimport { BitError } from '@teambit/bit-error';\nimport { MainRuntime } from '@teambit/cli';\nimport { Application } from './application';\nimport { ApplicationType } from './application-type';\nimport { ApplicationSlot } from './application.main.runtime';\n\nexport class AppTypePlugin implements PluginDefinition {\n  constructor(readonly pattern: string, private appType: ApplicationType<unknown>, private appSlot: ApplicationSlot) {}\n\n  runtimes = [MainRuntime.name];\n\n  register(object: any) {\n    const app = this.appType.createApp(object);\n    this.validateApp(app);\n    this.appSlot.register([app]);\n  }\n\n  private validateApp(app: Application) {\n    if (app.name.includes(' ')) {\n      throw new BitError(`app name \"${app.name}\" is invalid. spaces are not permitted`);\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAKO,MAAMA,aAAa,CAA6B;EACrDC,WAAW,CAAUC,OAAe,EAAUC,OAAiC,EAAUC,OAAwB,EAAE;IAAA,KAA9FF,OAAe,GAAfA,OAAe;IAAA,KAAUC,OAAiC,GAAjCA,OAAiC;IAAA,KAAUC,OAAwB,GAAxBA,OAAwB;IAAA,kDAEtG,CAACC,kBAAW,CAACC,IAAI,CAAC;EAFuF;EAIpHC,QAAQ,CAACC,MAAW,EAAE;IACpB,MAAMC,GAAG,GAAG,IAAI,CAACN,OAAO,CAACO,SAAS,CAACF,MAAM,CAAC;IAC1C,IAAI,CAACG,WAAW,CAACF,GAAG,CAAC;IACrB,IAAI,CAACL,OAAO,CAACG,QAAQ,CAAC,CAACE,GAAG,CAAC,CAAC;EAC9B;EAEQE,WAAW,CAACF,GAAgB,EAAE;IACpC,IAAIA,GAAG,CAACH,IAAI,CAACM,QAAQ,CAAC,GAAG,CAAC,EAAE;MAC1B,MAAM,KAAIC,oBAAQ,EAAE,aAAYJ,GAAG,CAACH,IAAK,wCAAuC,CAAC;IACnF;EACF;AACF;AAAC"}