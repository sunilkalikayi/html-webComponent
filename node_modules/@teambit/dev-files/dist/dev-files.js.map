{"version":3,"names":["DevFiles","constructor","raw","get","aspectId","toTupleArray","flatten","Object","entries","map","files","file","list","values","includes","filePath","toObject","toString","pretty","JSON","stringify"],"sources":["dev-files.ts"],"sourcesContent":["import { flatten } from 'lodash';\n\nexport class DevFiles {\n  constructor(private raw: { [key: string]: string[] }) {}\n\n  /**\n   * get all dev files of an aspect (for example: teambit.defender/tester)\n   */\n  get(aspectId: string): string[] {\n    return this.raw[aspectId] || [];\n  }\n\n  toTupleArray() {\n    return flatten(\n      Object.entries(this.raw).map(([aspectId, files]) => {\n        return files.map((file) => [file, aspectId]);\n      })\n    );\n  }\n\n  /**\n   * list all dev files.\n   */\n  list(): string[] {\n    return flatten(Object.values(this.raw));\n  }\n\n  /**\n   * determine whether a file is included in the dev files.\n   * @param filePath\n   */\n  includes(filePath: string) {\n    return this.list().includes(filePath);\n  }\n\n  /**\n   * return a plain object with all dev files.\n   */\n  toObject() {\n    return this.raw;\n  }\n\n  /**\n   * serialize all dev files into a JSON string.\n   */\n  toString(pretty = false) {\n    return JSON.stringify(this.toObject(), null, pretty ? 2 : 0);\n  }\n}\n"],"mappings":";;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEO,MAAMA,QAAQ,CAAC;EACpBC,WAAW,CAASC,GAAgC,EAAE;IAAA,KAAlCA,GAAgC,GAAhCA,GAAgC;EAAG;;EAEvD;AACF;AACA;EACEC,GAAG,CAACC,QAAgB,EAAY;IAC9B,OAAO,IAAI,CAACF,GAAG,CAACE,QAAQ,CAAC,IAAI,EAAE;EACjC;EAEAC,YAAY,GAAG;IACb,OAAO,IAAAC,iBAAO,EACZC,MAAM,CAACC,OAAO,CAAC,IAAI,CAACN,GAAG,CAAC,CAACO,GAAG,CAAC,CAAC,CAACL,QAAQ,EAAEM,KAAK,CAAC,KAAK;MAClD,OAAOA,KAAK,CAACD,GAAG,CAAEE,IAAI,IAAK,CAACA,IAAI,EAAEP,QAAQ,CAAC,CAAC;IAC9C,CAAC,CAAC,CACH;EACH;;EAEA;AACF;AACA;EACEQ,IAAI,GAAa;IACf,OAAO,IAAAN,iBAAO,EAACC,MAAM,CAACM,MAAM,CAAC,IAAI,CAACX,GAAG,CAAC,CAAC;EACzC;;EAEA;AACF;AACA;AACA;EACEY,QAAQ,CAACC,QAAgB,EAAE;IACzB,OAAO,IAAI,CAACH,IAAI,EAAE,CAACE,QAAQ,CAACC,QAAQ,CAAC;EACvC;;EAEA;AACF;AACA;EACEC,QAAQ,GAAG;IACT,OAAO,IAAI,CAACd,GAAG;EACjB;;EAEA;AACF;AACA;EACEe,QAAQ,CAACC,MAAM,GAAG,KAAK,EAAE;IACvB,OAAOC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACJ,QAAQ,EAAE,EAAE,IAAI,EAAEE,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;EAC9D;AACF;AAAC"}