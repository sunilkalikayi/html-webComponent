/// <reference types="node" />
import { ObjectItem } from './object-list';
import Ref from './ref';
import Repository from './repository';
export default class BitObject {
    validateBeforePersist: boolean;
    id(): string | Buffer;
    toBuffer(pretty?: boolean): Buffer;
    refs(): Ref[];
    getType(): string;
    getHeader(buffer: Buffer): string;
    collectRefs(repo: Repository): Promise<Ref[]>;
    collectRaw(repo: Repository): Promise<ObjectItem[]>;
    asRaw(repo: Repository): Promise<Buffer>;
    collect(repo: Repository): BitObject[];
    /**
     * indexing method
     */
    hash(): Ref;
    compress(): Promise<Buffer>;
    serialize(): Buffer;
    /**
     * see `this.parseSync` for the sync version
     */
    static parseObject(fileContents: Buffer, filePath?: string): Promise<BitObject>;
    /**
     * prefer using `this.parseObject()`, unless it must be sync.
     */
    static parseSync(fileContents: Buffer): BitObject;
    static makeHash(str: string | Buffer): string;
}
