import { PathOsBased, PathOsBasedAbsolute, PathOsBasedRelative, PathRelative } from '../../utils/path';
import Component from './consumer-component';
import PackageJsonVinyl from './package-json-vinyl';
/**
 * when a package.json file is loaded, we save the indentation and the type of newline it uses, so
 * then we could preserve it later on while writing the file. this is same process used by NPM when
 * writing the package.json file
 */
export default class PackageJsonFile {
    packageJsonObject: Record<string, any>;
    fileExist: boolean;
    filePath: PathOsBasedRelative;
    workspaceDir: PathOsBasedAbsolute | null | undefined;
    indent: string | null | undefined;
    newline: string | null | undefined;
    constructor({ filePath, packageJsonObject, fileExist, workspaceDir, indent, newline, }: {
        filePath: PathOsBasedRelative;
        packageJsonObject?: Record<string, any>;
        fileExist: boolean;
        workspaceDir?: PathOsBasedAbsolute;
        indent?: string;
        newline?: string;
    });
    write(): Promise<void>;
    /**
     * load from the given dir, if not exist, don't throw an error, just set packageJsonObject as an
     * empty object
     */
    static load(workspaceDir: PathOsBasedAbsolute, componentDir?: PathRelative): Promise<PackageJsonFile>;
    static reset(workspaceDir: PathOsBasedAbsolute): Promise<void>;
    static loadSync(workspaceDir: PathOsBasedAbsolute, componentDir?: PathRelative): PackageJsonFile;
    static loadFromPathSync(workspaceDir: PathOsBasedAbsolute, pathToLoad: string): PackageJsonFile;
    static loadFromCapsuleSync(capsuleRootDir: string): PackageJsonFile;
    static createFromComponent(componentDir: PathRelative, component: Component, addDefaultScopeToCompId?: boolean, // for the capsule, we want the default-scope because it gets published
    addExportProperty?: boolean): PackageJsonFile;
    toVinylFile(): PackageJsonVinyl;
    addDependencies(dependencies: Record<string, any>): void;
    addDevDependencies(dependencies: Record<string, any>): void;
    removeDependency(dependency: string): void;
    copyPeerDependenciesToDev(): void;
    replaceDependencies(dependencies: Record<string, any>): void;
    addOrUpdateProperty(propertyName: string, propertyValue: any): void;
    removeProperty(propertyName: string): void;
    getProperty(propertyName: string): any;
    setPackageManager(packageManager: string | undefined): void;
    mergePackageJsonObject(packageJsonObject: Record<string, any> | null | undefined): void;
    clone(): PackageJsonFile;
    static propsNonUserChangeable(): string[];
    static parsePackageJsonStr(str: string, dir: string): any;
    static getPackageJsonStrIfExist(filePath: PathOsBased): Promise<string | null>;
    static getPackageJsonStrIfExistSync(filePath: PathOsBased): string | null;
}
