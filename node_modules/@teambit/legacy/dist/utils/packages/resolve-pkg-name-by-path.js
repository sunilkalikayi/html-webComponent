"use strict";

require("core-js/modules/es.regexp.exec.js");
require("core-js/modules/es.string.replace.js");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.resolvePackageNameByPath = resolvePackageNameByPath;
function _() {
  const data = require("..");
  _ = function () {
    return data;
  };
  return data;
}
/**
 * return the package name by the import statement path to node package
 *
 * @param {string} packagePath import statement path
 * @returns {string} name of the package
 */
function resolvePackageNameByPath(packagePath) {
  const packagePathLinux = (0, _().pathNormalizeToLinux)(packagePath);
  const packagePathArr = packagePathLinux.split('/');
  // Regular package without path. example - import _ from 'lodash'
  if (packagePathArr.length === 1) return packagePath;
  // sass-loader/webpack path. remove the tilda, it's not part of the package name
  if (packagePathArr[0].startsWith('~')) packagePathArr[0] = packagePathArr[0].replace('~', '');
  // Scoped package. example - import getSymbolIterator from '@angular/core/src/util.d.ts';
  if (packagePathArr[0].startsWith('@')) return `${packagePathArr[0]}/${packagePathArr[1]}`;
  // Regular package with internal path. example import something from 'mypackage/src/util/isString'
  return packagePathArr[0];
}