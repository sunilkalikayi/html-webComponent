"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
require("core-js/modules/es.promise.js");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.saveIntoOsTmp = saveIntoOsTmp;
function _path() {
  const data = _interopRequireDefault(require("path"));
  _path = function () {
    return data;
  };
  return data;
}
function _fsExtra() {
  const data = _interopRequireDefault(require("fs-extra"));
  _fsExtra = function () {
    return data;
  };
  return data;
}
function _uuid() {
  const data = require("uuid");
  _uuid = function () {
    return data;
  };
  return data;
}
function _defenderFs() {
  const data = require("@teambit/defender.fs.global-bit-temp-dir");
  _defenderFs = function () {
    return data;
  };
  return data;
}
const BASE_PATH = _path().default.join(_defenderFs().BIT_TEMP_ROOT, 'tmp');
async function saveIntoOsTmp(data, filename = (0, _uuid().v4)(), ext = '.js') {
  const filePath = _path().default.join(BASE_PATH, `${filename}${ext}`);
  await _fsExtra().default.outputFile(filePath, data);
  return filePath;
}