"use strict";

require("core-js/modules/es.promise.js");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.computeResults = computeResults;
async function computeResults(context, results, outDirName, storageResolver) {
  const result = results[0];
  const componentsResults = result.components.map(component => {
    return {
      component,
      startTime: result.startTime,
      endTime: result.endTime,
      errors: result.errors.map(err => typeof err === 'string' ? err : err.message),
      warning: result.warnings
    };
  });
  const artifacts = getArtifactDef(outDirName, storageResolver);
  return {
    componentsResults,
    artifacts
  };
}
function getArtifactDef(outDirName, storageResolver) {
  return [{
    name: 'elements',
    globPatterns: [`${outDirName}/public/**`],
    storageResolver
  }];
}

//# sourceMappingURL=compute-results.js.map