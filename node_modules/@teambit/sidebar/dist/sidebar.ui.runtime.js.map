{"version":3,"names":["SidebarUI","constructor","drawerSlot","props","registerDrawer","drawer","register","provider","deps","config","UIRuntime","Slot","withType","SidebarAspect","addRuntime"],"sources":["sidebar.ui.runtime.tsx"],"sourcesContent":["import { ComponentModel } from '@teambit/component';\nimport { Slot, SlotRegistry } from '@teambit/harmony';\nimport { UIRuntime } from '@teambit/ui';\nimport React, { ComponentType } from 'react';\n\nimport type { DrawerType } from '@teambit/ui-foundation.ui.tree.drawer';\nimport { SidebarAspect } from './sidebar.aspect';\nimport { SideBar, SideBarProps } from './ui';\n\nexport type ComponentTypeProps = {\n  component: ComponentModel;\n};\n\nexport type SidebarItem = {\n  weight?: number;\n  component?: ComponentType;\n};\n\nexport type SidebarItemSlot = SlotRegistry<SidebarItem[]>;\n\nexport type DrawerSlot = SlotRegistry<DrawerType[]>;\n\nexport class SidebarUI {\n  constructor(private drawerSlot: DrawerSlot) {}\n\n  /**\n   * register a new drawer into the component sidebar.\n   */\n  registerDrawer(...drawer: DrawerType[]) {\n    this.drawerSlot.register(drawer);\n    return this;\n  }\n\n  /**\n   * render the sidebar.\n   */\n  render = (props: Partial<SideBarProps>) => {\n    return <SideBar drawerSlot={this.drawerSlot} {...props}></SideBar>;\n  };\n\n  static runtime = UIRuntime;\n\n  static slots = [Slot.withType<DrawerType>()];\n\n  static dependencies = [];\n\n  static async provider(deps, config, [drawerSlot]: [DrawerSlot]) {\n    return new SidebarUI(drawerSlot);\n  }\n}\n\nSidebarAspect.addRuntime(SidebarUI);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAGA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAeO,MAAMA,SAAS,CAAC;EACrBC,WAAW,CAASC,UAAsB,EAAE;IAAA,KAAxBA,UAAsB,GAAtBA,UAAsB;IAAA,gDAahCC,KAA4B,IAAK;MACzC,oBAAO,+BAAC,cAAO;QAAC,UAAU,EAAE,IAAI,CAACD;MAAW,GAAKC,KAAK,EAAY;IACpE,CAAC;EAf4C;;EAE7C;AACF;AACA;EACEC,cAAc,CAAC,GAAGC,MAAoB,EAAE;IACtC,IAAI,CAACH,UAAU,CAACI,QAAQ,CAACD,MAAM,CAAC;IAChC,OAAO,IAAI;EACb;;EAEA;AACF;AACA;;EAWE,aAAaE,QAAQ,CAACC,IAAI,EAAEC,MAAM,EAAE,CAACP,UAAU,CAAe,EAAE;IAC9D,OAAO,IAAIF,SAAS,CAACE,UAAU,CAAC;EAClC;AACF;AAAC;AAAA,gCA3BYF,SAAS,aAkBHU,eAAS;AAAA,gCAlBfV,SAAS,WAoBL,CAACW,eAAI,CAACC,QAAQ,EAAc,CAAC;AAAA,gCApBjCZ,SAAS,kBAsBE,EAAE;AAO1Ba,wBAAa,CAACC,UAAU,CAACd,SAAS,CAAC"}