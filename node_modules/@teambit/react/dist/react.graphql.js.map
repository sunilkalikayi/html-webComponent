{"version":3,"names":["reactSchema","react","typeDefs","gql","resolvers","ComponentHost","getDocs","host","id","componentId","resolveComponentId","component","get","empty","abstract","filePath","properties","docs"],"sources":["react.graphql.ts"],"sourcesContent":["import { ComponentFactory } from '@teambit/component';\nimport gql from 'graphql-tag';\n\nimport { ReactMain } from './react.main.runtime';\n\nexport function reactSchema(react: ReactMain) {\n  return {\n    typeDefs: gql`\n      extend type ComponentHost {\n        getDocs(id: String!): ReactDocs\n      }\n\n      type ReactDocs {\n        abstract: String\n        filePath: String\n        properties: [Property]\n      }\n\n      type Property {\n        name: String\n        description: String\n        required: Boolean\n        type: String\n        defaultValue: DefaultValue\n      }\n\n      type DefaultValue {\n        value: String\n        computed: Boolean\n      }\n    `,\n    resolvers: {\n      ComponentHost: {\n        getDocs: async (host: ComponentFactory, { id }: { id: string }) => {\n          const componentId = await host.resolveComponentId(id);\n          const component = await host.get(componentId);\n          const empty = {\n            abstract: '',\n            filePath: '',\n            properties: [],\n          };\n\n          if (!component) return empty;\n          const docs = react.getDocs(component);\n          if (!docs) return empty;\n\n          return docs;\n        },\n      },\n    },\n  };\n}\n"],"mappings":";;;;;;;;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAIO,SAASA,WAAW,CAACC,KAAgB,EAAE;EAC5C,OAAO;IACLC,QAAQ,EAAE,IAAAC,qBAAG,CAAC;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;IACDC,SAAS,EAAE;MACTC,aAAa,EAAE;QACbC,OAAO,EAAE,OAAOC,IAAsB,EAAE;UAAEC;QAAmB,CAAC,KAAK;UACjE,MAAMC,WAAW,GAAG,MAAMF,IAAI,CAACG,kBAAkB,CAACF,EAAE,CAAC;UACrD,MAAMG,SAAS,GAAG,MAAMJ,IAAI,CAACK,GAAG,CAACH,WAAW,CAAC;UAC7C,MAAMI,KAAK,GAAG;YACZC,QAAQ,EAAE,EAAE;YACZC,QAAQ,EAAE,EAAE;YACZC,UAAU,EAAE;UACd,CAAC;UAED,IAAI,CAACL,SAAS,EAAE,OAAOE,KAAK;UAC5B,MAAMI,IAAI,GAAGhB,KAAK,CAACK,OAAO,CAACK,SAAS,CAAC;UACrC,IAAI,CAACM,IAAI,EAAE,OAAOJ,KAAK;UAEvB,OAAOI,IAAI;QACb;MACF;IACF;EACF,CAAC;AACH"}