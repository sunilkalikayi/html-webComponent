{"version":3,"names":["OUTPUT_FOLDER","SSR_ENTRY_FILE","PUBLIC_PATH","Targets","calcOutputPath","appName","target","join","clientConfig","output","publicPath","filename","ssrConfig","devtool","libraryTarget","buildConfig","outputPath","path","ssrBuildConfig"],"sources":["webpack.app.ssr.config.ts"],"sourcesContent":["import { join } from 'path';\nimport type { Configuration } from 'webpack';\n\nconst OUTPUT_FOLDER = 'public/bit-apps';\nexport const SSR_ENTRY_FILE = 'index.js';\n/** _external_ base url for static files. (is not a folder)\n * @example\n * \"http://localhost:3000/public/main.88a88d47d86aaabc0230.js\"\n */\nexport const PUBLIC_PATH = '/public';\n\nenum Targets {\n  ssr = 'ssr',\n  browser = 'browser',\n}\n\nexport function calcOutputPath(appName: string, target: Targets | keyof typeof Targets) {\n  return join(OUTPUT_FOLDER, appName, target);\n}\n\nexport function clientConfig(): Configuration {\n  return {\n    output: { publicPath: PUBLIC_PATH, filename: '[name].[chunkhash].js' },\n  };\n}\n\nexport function ssrConfig(): Configuration {\n  return {\n    target: 'node',\n    devtool: 'eval-cheap-source-map',\n\n    output: {\n      libraryTarget: 'commonjs',\n      filename: SSR_ENTRY_FILE,\n    },\n  };\n}\n\nexport function buildConfig({ outputPath }: { outputPath: string }): Configuration {\n  return {\n    output: {\n      path: outputPath,\n      publicPath: `/`,\n      filename: '[name].[chunkhash].js',\n    },\n  };\n}\n\nexport function ssrBuildConfig({ outputPath }: { outputPath: string }): Configuration {\n  return {\n    target: 'node',\n    devtool: 'eval-cheap-source-map',\n\n    output: {\n      path: outputPath,\n      publicPath: `/`,\n      libraryTarget: 'commonjs',\n      filename: 'index.js',\n    },\n  };\n}\n"],"mappings":";;;;;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAGA,MAAMA,aAAa,GAAG,iBAAiB;AAChC,MAAMC,cAAc,GAAG,UAAU;AACxC;AACA;AACA;AACA;AAHA;AAIO,MAAMC,WAAW,GAAG,SAAS;AAAC;AAAA,IAEhCC,OAAO;AAAA,WAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;AAAA,GAAPA,OAAO,KAAPA,OAAO;AAKL,SAASC,cAAc,CAACC,OAAe,EAAEC,MAAsC,EAAE;EACtF,OAAO,IAAAC,YAAI,EAACP,aAAa,EAAEK,OAAO,EAAEC,MAAM,CAAC;AAC7C;AAEO,SAASE,YAAY,GAAkB;EAC5C,OAAO;IACLC,MAAM,EAAE;MAAEC,UAAU,EAAER,WAAW;MAAES,QAAQ,EAAE;IAAwB;EACvE,CAAC;AACH;AAEO,SAASC,SAAS,GAAkB;EACzC,OAAO;IACLN,MAAM,EAAE,MAAM;IACdO,OAAO,EAAE,uBAAuB;IAEhCJ,MAAM,EAAE;MACNK,aAAa,EAAE,UAAU;MACzBH,QAAQ,EAAEV;IACZ;EACF,CAAC;AACH;AAEO,SAASc,WAAW,CAAC;EAAEC;AAAmC,CAAC,EAAiB;EACjF,OAAO;IACLP,MAAM,EAAE;MACNQ,IAAI,EAAED,UAAU;MAChBN,UAAU,EAAG,GAAE;MACfC,QAAQ,EAAE;IACZ;EACF,CAAC;AACH;AAEO,SAASO,cAAc,CAAC;EAAEF;AAAmC,CAAC,EAAiB;EACpF,OAAO;IACLV,MAAM,EAAE,MAAM;IACdO,OAAO,EAAE,uBAAuB;IAEhCJ,MAAM,EAAE;MACNQ,IAAI,EAAED,UAAU;MAChBN,UAAU,EAAG,GAAE;MACfI,aAAa,EAAE,UAAU;MACzBH,QAAQ,EAAE;IACZ;EACF,CAAC;AACH"}