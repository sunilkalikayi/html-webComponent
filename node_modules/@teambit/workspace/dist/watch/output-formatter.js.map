{"version":3,"names":["verboseComponentFilesArrayToString","componentFiles","reduce","outputString","filePath","resultsForExtensionArrayToString","resultsForExtension","verbose","resultForExtension","chalk","green","component","componentFilesAsString","formatWatchPathsSortByComponent","trackDirs","Object","keys","watchPath","underline","formatCompileResults","compileResults","length","Array","isArray","filter","compileResult","results","map","extensionId","buildResults"],"sources":["output-formatter.ts"],"sourcesContent":["import chalk from 'chalk';\nimport { OnComponentEventResult } from '../on-component-events';\n\nconst verboseComponentFilesArrayToString = (componentFiles) => {\n  return componentFiles.reduce((outputString, filePath) => `${outputString} \\t - ${filePath}\\n`, ``);\n};\n\nconst resultsForExtensionArrayToString = (resultsForExtension, verbose) => {\n  return resultsForExtension.reduce(\n    (outputString, resultForExtension) =>\n      `${outputString}${chalk.green('√')}SUCCESS\\t${resultForExtension.component}\\n\n     ${verbose ? resultForExtension.componentFilesAsString : ''}\\n`,\n    ''\n  );\n};\n\nexport const formatWatchPathsSortByComponent = (trackDirs) => {\n  return Object.keys(trackDirs).reduce(\n    (outputString, watchPath) =>\n      `${outputString}\n    ${chalk.green('√')} SUCCESS\\t${trackDirs[watchPath]}\\n\n    \\t - ${watchPath}\\n\\n`,\n    ` ${chalk.underline('STATUS\\t\\tCOMPONENT ID')}\\n`\n  );\n};\n\n/**\n * todo: this was implemented incorrectly.\n * the original idea of `SerializableResults` was to have each one of the aspects registered to the slot, the\n * ability to have their own formatting to their results, and then `toString()` method to print them.\n * Here, the printing is specifically to the Compiler aspect. It should move to where it belongs.\n */\nexport function formatCompileResults(compileResults: OnComponentEventResult[], verbose: boolean) {\n  if (!compileResults.length || !Array.isArray(compileResults)) return '';\n  return compileResults\n    .filter((compileResult) => compileResult.results?.results && Array.isArray(compileResult.results?.results))\n    .map((compileResult) => ({\n      extensionId: compileResult.extensionId,\n      resultsForExtension: compileResult.results?.results?.map((resultForExtension) => ({\n        component: resultForExtension.component,\n        componentFilesAsString: verboseComponentFilesArrayToString(resultForExtension.buildResults),\n      })),\n    }))\n    .reduce(\n      (outputString, compileResult) =>\n        `${outputString}\n  ${resultsForExtensionArrayToString(compileResult.resultsForExtension, verbose)}`,\n      ` ${chalk.underline('STATUS\\tCOMPONENT ID')}`\n    );\n}\n"],"mappings":";;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAGA,MAAMA,kCAAkC,GAAIC,cAAc,IAAK;EAC7D,OAAOA,cAAc,CAACC,MAAM,CAAC,CAACC,YAAY,EAAEC,QAAQ,KAAM,GAAED,YAAa,SAAQC,QAAS,IAAG,EAAG,EAAC,CAAC;AACpG,CAAC;AAED,MAAMC,gCAAgC,GAAG,CAACC,mBAAmB,EAAEC,OAAO,KAAK;EACzE,OAAOD,mBAAmB,CAACJ,MAAM,CAC/B,CAACC,YAAY,EAAEK,kBAAkB,KAC9B,GAAEL,YAAa,GAAEM,gBAAK,CAACC,KAAK,CAAC,GAAG,CAAE,YAAWF,kBAAkB,CAACG,SAAU;AACjF,OAAOJ,OAAO,GAAGC,kBAAkB,CAACI,sBAAsB,GAAG,EAAG,IAAG,EAC/D,EAAE,CACH;AACH,CAAC;AAEM,MAAMC,+BAA+B,GAAIC,SAAS,IAAK;EAC5D,OAAOC,MAAM,CAACC,IAAI,CAACF,SAAS,CAAC,CAACZ,MAAM,CAClC,CAACC,YAAY,EAAEc,SAAS,KACrB,GAAEd,YAAa;AACtB,MAAMM,gBAAK,CAACC,KAAK,CAAC,GAAG,CAAE,aAAYI,SAAS,CAACG,SAAS,CAAE;AACxD,WAAWA,SAAU,MAAK,EACrB,IAAGR,gBAAK,CAACS,SAAS,CAAC,wBAAwB,CAAE,IAAG,CAClD;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AALA;AAMO,SAASC,oBAAoB,CAACC,cAAwC,EAAEb,OAAgB,EAAE;EAC/F,IAAI,CAACa,cAAc,CAACC,MAAM,IAAI,CAACC,KAAK,CAACC,OAAO,CAACH,cAAc,CAAC,EAAE,OAAO,EAAE;EACvE,OAAOA,cAAc,CAClBI,MAAM,CAAEC,aAAa;IAAA;IAAA,OAAK,0BAAAA,aAAa,CAACC,OAAO,0DAArB,sBAAuBA,OAAO,KAAIJ,KAAK,CAACC,OAAO,2BAACE,aAAa,CAACC,OAAO,2DAArB,uBAAuBA,OAAO,CAAC;EAAA,EAAC,CAC1GC,GAAG,CAAEF,aAAa;IAAA;IAAA,OAAM;MACvBG,WAAW,EAAEH,aAAa,CAACG,WAAW;MACtCtB,mBAAmB,4BAAEmB,aAAa,CAACC,OAAO,qFAArB,uBAAuBA,OAAO,2DAA9B,uBAAgCC,GAAG,CAAEnB,kBAAkB,KAAM;QAChFG,SAAS,EAAEH,kBAAkB,CAACG,SAAS;QACvCC,sBAAsB,EAAEZ,kCAAkC,CAACQ,kBAAkB,CAACqB,YAAY;MAC5F,CAAC,CAAC;IACJ,CAAC;EAAA,CAAC,CAAC,CACF3B,MAAM,CACL,CAACC,YAAY,EAAEsB,aAAa,KACzB,GAAEtB,YAAa;AACxB,IAAIE,gCAAgC,CAACoB,aAAa,CAACnB,mBAAmB,EAAEC,OAAO,CAAE,EAAC,EAC3E,IAAGE,gBAAK,CAACS,SAAS,CAAC,sBAAsB,CAAE,EAAC,CAC9C;AACL"}