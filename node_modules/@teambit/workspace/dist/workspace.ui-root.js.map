{"version":3,"names":["WorkspaceUIRoot","constructor","workspace","bundler","ssr","launchBrowserOnStart","name","path","configFile","resolveAspects","runtimeName","componentIds","opts","resolvePattern","pattern","byPattern","getConfig","componentDir","componentId","bitMapOptions","options","relative"],"sources":["workspace.ui-root.ts"],"sourcesContent":["import { BundlerMain } from '@teambit/bundler';\nimport { Component, ComponentID, ResolveAspectsOptions } from '@teambit/component';\nimport { UIRoot } from '@teambit/ui';\nimport { GetBitMapComponentOptions } from '@teambit/legacy/dist/consumer/bit-map/bit-map';\nimport { PathOsBased } from '@teambit/legacy/dist/utils/path';\n\nimport { Workspace } from './workspace';\n\nexport class WorkspaceUIRoot implements UIRoot {\n  constructor(\n    /**\n     * workspace extension.\n     */\n    private workspace: Workspace,\n\n    /**\n     * bundler extension\n     */\n    private bundler: BundlerMain\n  ) {}\n\n  priority = true;\n\n  get name() {\n    return this.workspace.name;\n  }\n\n  get path() {\n    return this.workspace.path;\n  }\n\n  get configFile() {\n    return 'workspace.json';\n  }\n\n  buildOptions = {\n    ssr: false,\n    launchBrowserOnStart: true,\n  };\n\n  async resolveAspects(runtimeName: string, componentIds?: ComponentID[], opts?: ResolveAspectsOptions) {\n    return this.workspace.resolveAspects(runtimeName, componentIds, opts);\n  }\n\n  // TODO: @gilad please implement with variants.\n  resolvePattern(pattern: string): Promise<Component[]> {\n    return this.workspace.byPattern(pattern);\n  }\n\n  getConfig() {\n    return {};\n  }\n\n  /**\n   * proxy to `workspace.componentDir()`\n   */\n  componentDir(\n    componentId: ComponentID,\n    bitMapOptions?: GetBitMapComponentOptions,\n    options = { relative: false }\n  ): PathOsBased {\n    return this.workspace.componentDir(componentId, bitMapOptions, options);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;AAQO,MAAMA,eAAe,CAAmB;EAC7CC,WAAW;EACT;AACJ;AACA;EACYC,SAAoB;EAE5B;AACJ;AACA;EACYC,OAAoB,EAC5B;IAAA,KANQD,SAAoB,GAApBA,SAAoB;IAAA,KAKpBC,OAAoB,GAApBA,OAAoB;IAAA,kDAGnB,IAAI;IAAA,sDAcA;MACbC,GAAG,EAAE,KAAK;MACVC,oBAAoB,EAAE;IACxB,CAAC;EAnBE;EAIH,IAAIC,IAAI,GAAG;IACT,OAAO,IAAI,CAACJ,SAAS,CAACI,IAAI;EAC5B;EAEA,IAAIC,IAAI,GAAG;IACT,OAAO,IAAI,CAACL,SAAS,CAACK,IAAI;EAC5B;EAEA,IAAIC,UAAU,GAAG;IACf,OAAO,gBAAgB;EACzB;EAOA,MAAMC,cAAc,CAACC,WAAmB,EAAEC,YAA4B,EAAEC,IAA4B,EAAE;IACpG,OAAO,IAAI,CAACV,SAAS,CAACO,cAAc,CAACC,WAAW,EAAEC,YAAY,EAAEC,IAAI,CAAC;EACvE;;EAEA;EACAC,cAAc,CAACC,OAAe,EAAwB;IACpD,OAAO,IAAI,CAACZ,SAAS,CAACa,SAAS,CAACD,OAAO,CAAC;EAC1C;EAEAE,SAAS,GAAG;IACV,OAAO,CAAC,CAAC;EACX;;EAEA;AACF;AACA;EACEC,YAAY,CACVC,WAAwB,EACxBC,aAAyC,EACzCC,OAAO,GAAG;IAAEC,QAAQ,EAAE;EAAM,CAAC,EAChB;IACb,OAAO,IAAI,CAACnB,SAAS,CAACe,YAAY,CAACC,WAAW,EAAEC,aAAa,EAAEC,OAAO,CAAC;EACzE;AACF;AAAC"}