{"version":3,"names":["describe","it","choices","makeOutdatedPkgChoices","name","currentRange","latestRange","source","targetField","expect","toMatchSnapshot","componentId","variantPattern"],"sources":["pick-outdated-pkgs.spec.ts"],"sourcesContent":["import { makeOutdatedPkgChoices } from './pick-outdated-pkgs';\n\ndescribe('makeOutdatedPkgChoices', () => {\n  it('should render choices in correct order', () => {\n    const choices = makeOutdatedPkgChoices([\n      {\n        name: 'zoo',\n        currentRange: '1.0.0',\n        latestRange: '1.1.0',\n        source: 'rootPolicy',\n        targetField: 'devDependencies',\n      },\n      {\n        name: 'qar',\n        currentRange: '1.0.0',\n        latestRange: '1.1.0',\n        source: 'rootPolicy',\n        targetField: 'dependencies',\n      },\n      {\n        name: 'foo',\n        currentRange: '1.0.0',\n        latestRange: '2.0.0',\n        source: 'rootPolicy',\n        targetField: 'dependencies',\n      },\n      {\n        name: 'bar',\n        currentRange: '1.0.0',\n        latestRange: '1.1.0',\n        source: 'rootPolicy',\n        targetField: 'peerDependencies',\n      },\n    ]);\n    // @ts-ignore\n    expect(choices).toMatchSnapshot();\n  });\n  it('should render choices with context information', () => {\n    const choices = makeOutdatedPkgChoices([\n      {\n        name: 'foo',\n        currentRange: '1.0.0',\n        latestRange: '2.0.0',\n        source: 'component',\n        componentId: 'comp1',\n        targetField: 'dependencies',\n      },\n      {\n        name: 'bar',\n        currentRange: '1.0.0',\n        latestRange: '1.1.0',\n        source: 'variants',\n        variantPattern: '{comp2}',\n        targetField: 'peerDependencies',\n      },\n    ]);\n    // @ts-ignore\n    expect(choices).toMatchSnapshot();\n  });\n  it('should group component model updates of the same dependency', () => {\n    const choices = makeOutdatedPkgChoices([\n      {\n        name: 'foo',\n        currentRange: '1.0.0',\n        latestRange: '2.0.0',\n        source: 'component-model',\n        componentId: 'comp1',\n        targetField: 'devDependencies',\n      },\n      {\n        name: 'foo',\n        currentRange: '1.1.0',\n        latestRange: '2.0.0',\n        source: 'component-model',\n        componentId: 'comp2',\n        targetField: 'dependencies',\n      },\n    ]);\n    // @ts-ignore\n    expect(choices).toMatchSnapshot();\n  });\n  it(\"should group component model updates of the same dependency and use * as current range when can't compare ranges\", () => {\n    const choices = makeOutdatedPkgChoices([\n      {\n        name: 'foo',\n        currentRange: '<=10.0.0',\n        latestRange: '2.0.0',\n        source: 'component-model',\n        componentId: 'comp1',\n        targetField: 'dependencies',\n      },\n      {\n        name: 'foo',\n        currentRange: '1.1.0',\n        latestRange: '2.0.0',\n        source: 'component-model',\n        componentId: 'comp2',\n        targetField: 'dependencies',\n      },\n    ]);\n    // @ts-ignore\n    expect(choices).toMatchSnapshot();\n  });\n  it('should group component model updates of the same dependency and display the current range when all components use the same range', () => {\n    const choices = makeOutdatedPkgChoices([\n      {\n        name: 'foo',\n        currentRange: '^1.2.3',\n        latestRange: '2.0.0',\n        source: 'component-model',\n        componentId: 'comp1',\n        targetField: 'dependencies',\n      },\n      {\n        name: 'foo',\n        currentRange: '^1.2.3',\n        latestRange: '2.0.0',\n        source: 'component-model',\n        componentId: 'comp2',\n        targetField: 'dependencies',\n      },\n    ]);\n    // @ts-ignore\n    expect(choices).toMatchSnapshot();\n  });\n});\n"],"mappings":"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"}