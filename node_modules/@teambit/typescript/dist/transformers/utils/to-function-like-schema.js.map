{"version":3,"names":["toFunctionLikeSchema","node","context","funcName","name","getText","info","getQuickInfo","returnTypeStr","parseTypeFromQuickInfo","displaySig","body","displayString","args","getParams","parameters","returnType","resolveType","Boolean","modifiers","map","modifier","typeParameters","typeParam","location","getLocation","doc","jsDocToDocSchema","FunctionLikeSchema"],"sources":["to-function-like-schema.ts"],"sourcesContent":["import { SignatureDeclaration } from 'typescript';\nimport { FunctionLikeSchema, Modifier } from '@teambit/semantics.entities.semantic-schema';\nimport { SchemaExtractorContext } from '../../schema-extractor-context';\nimport { getParams } from './get-params';\nimport { parseTypeFromQuickInfo } from './parse-type-from-quick-info';\nimport { jsDocToDocSchema } from './jsdoc-to-doc-schema';\n\nexport async function toFunctionLikeSchema(\n  node: SignatureDeclaration,\n  context: SchemaExtractorContext,\n  funcName?: string\n) {\n  const name = funcName || node.name?.getText() || '';\n  const info = node.name ? await context.getQuickInfo(node.name) : null;\n  const returnTypeStr = info ? parseTypeFromQuickInfo(info) : 'any';\n  const displaySig = info?.body?.displayString || '';\n  const args = await getParams(node.parameters, context);\n  const returnType = await context.resolveType(node, returnTypeStr, Boolean(info));\n  const modifiers = node.modifiers?.map((modifier) => modifier.getText()) || [];\n  const typeParameters = node.typeParameters?.map((typeParam) => typeParam.name.getText());\n  const location = context.getLocation(node);\n  const doc = await jsDocToDocSchema(node, context);\n  return new FunctionLikeSchema(\n    location,\n    name,\n    args,\n    returnType,\n    displaySig,\n    modifiers as Modifier[],\n    doc,\n    typeParameters\n  );\n}\n"],"mappings":";;;;;;;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEO,eAAeA,oBAAoB,CACxCC,IAA0B,EAC1BC,OAA+B,EAC/BC,QAAiB,EACjB;EAAA;EACA,MAAMC,IAAI,GAAGD,QAAQ,mBAAIF,IAAI,CAACG,IAAI,+CAAT,WAAWC,OAAO,EAAE,KAAI,EAAE;EACnD,MAAMC,IAAI,GAAGL,IAAI,CAACG,IAAI,GAAG,MAAMF,OAAO,CAACK,YAAY,CAACN,IAAI,CAACG,IAAI,CAAC,GAAG,IAAI;EACrE,MAAMI,aAAa,GAAGF,IAAI,GAAG,IAAAG,gDAAsB,EAACH,IAAI,CAAC,GAAG,KAAK;EACjE,MAAMI,UAAU,GAAG,CAAAJ,IAAI,aAAJA,IAAI,qCAAJA,IAAI,CAAEK,IAAI,+CAAV,WAAYC,aAAa,KAAI,EAAE;EAClD,MAAMC,IAAI,GAAG,MAAM,IAAAC,sBAAS,EAACb,IAAI,CAACc,UAAU,EAAEb,OAAO,CAAC;EACtD,MAAMc,UAAU,GAAG,MAAMd,OAAO,CAACe,WAAW,CAAChB,IAAI,EAAEO,aAAa,EAAEU,OAAO,CAACZ,IAAI,CAAC,CAAC;EAChF,MAAMa,SAAS,GAAG,oBAAAlB,IAAI,CAACkB,SAAS,oDAAd,gBAAgBC,GAAG,CAAEC,QAAQ,IAAKA,QAAQ,CAAChB,OAAO,EAAE,CAAC,KAAI,EAAE;EAC7E,MAAMiB,cAAc,2BAAGrB,IAAI,CAACqB,cAAc,yDAAnB,qBAAqBF,GAAG,CAAEG,SAAS,IAAKA,SAAS,CAACnB,IAAI,CAACC,OAAO,EAAE,CAAC;EACxF,MAAMmB,QAAQ,GAAGtB,OAAO,CAACuB,WAAW,CAACxB,IAAI,CAAC;EAC1C,MAAMyB,GAAG,GAAG,MAAM,IAAAC,oCAAgB,EAAC1B,IAAI,EAAEC,OAAO,CAAC;EACjD,OAAO,KAAI0B,uCAAkB,EAC3BJ,QAAQ,EACRpB,IAAI,EACJS,IAAI,EACJG,UAAU,EACVN,UAAU,EACVS,SAAS,EACTO,GAAG,EACHJ,cAAc,CACf;AACH"}