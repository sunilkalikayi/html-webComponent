{"version":3,"names":["describe","it","input","ids","paths","output","dedupePaths","expect","toEqual","arrayContaining","length"],"sources":["dedupe-path.spec.ts"],"sourcesContent":["import { dedupePaths } from './tsconfig-writer';\n\ndescribe('dedupePath', () => {\n  it('should return the root-dir if there is only one env involved', () => {\n    const input = [{ ids: ['env1'], paths: ['p1/e1, p2'] }];\n    const output = dedupePaths(input);\n    expect(output).toEqual([{ ids: ['env1'], paths: ['.'] }]);\n  });\n  it('should set the env with the most components', () => {\n    const input = [\n      { ids: ['env1'], paths: ['p1/e1', 'p1/e2'] },\n      { ids: ['env2'], paths: ['p1/e3'] },\n    ];\n    const output = dedupePaths(input);\n    // @ts-ignore\n    expect(output).toEqual(\n      // @ts-ignore\n      expect.arrayContaining([\n        { ids: ['env1'], paths: ['.'] },\n        { ids: ['env2'], paths: ['p1/e3'] },\n      ])\n    );\n  });\n  it('should not set any env to a shared dir if it no env has max components', () => {\n    const input = [\n      { ids: ['env1'], paths: ['p1/e1'] },\n      { ids: ['env2'], paths: ['p1/e2'] },\n    ];\n    const output = dedupePaths(input);\n    expect(output.length).toEqual(2);\n    // @ts-ignore\n    expect(output).toEqual(expect.arrayContaining(input));\n  });\n});\n"],"mappings":";;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEAA,QAAQ,CAAC,YAAY,EAAE,MAAM;EAC3BC,EAAE,CAAC,8DAA8D,EAAE,MAAM;IACvE,MAAMC,KAAK,GAAG,CAAC;MAAEC,GAAG,EAAE,CAAC,MAAM,CAAC;MAAEC,KAAK,EAAE,CAAC,WAAW;IAAE,CAAC,CAAC;IACvD,MAAMC,MAAM,GAAG,IAAAC,6BAAW,EAACJ,KAAK,CAAC;IACjCK,MAAM,CAACF,MAAM,CAAC,CAACG,OAAO,CAAC,CAAC;MAAEL,GAAG,EAAE,CAAC,MAAM,CAAC;MAAEC,KAAK,EAAE,CAAC,GAAG;IAAE,CAAC,CAAC,CAAC;EAC3D,CAAC,CAAC;EACFH,EAAE,CAAC,6CAA6C,EAAE,MAAM;IACtD,MAAMC,KAAK,GAAG,CACZ;MAAEC,GAAG,EAAE,CAAC,MAAM,CAAC;MAAEC,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO;IAAE,CAAC,EAC5C;MAAED,GAAG,EAAE,CAAC,MAAM,CAAC;MAAEC,KAAK,EAAE,CAAC,OAAO;IAAE,CAAC,CACpC;IACD,MAAMC,MAAM,GAAG,IAAAC,6BAAW,EAACJ,KAAK,CAAC;IACjC;IACAK,MAAM,CAACF,MAAM,CAAC,CAACG,OAAO;IACpB;IACAD,MAAM,CAACE,eAAe,CAAC,CACrB;MAAEN,GAAG,EAAE,CAAC,MAAM,CAAC;MAAEC,KAAK,EAAE,CAAC,GAAG;IAAE,CAAC,EAC/B;MAAED,GAAG,EAAE,CAAC,MAAM,CAAC;MAAEC,KAAK,EAAE,CAAC,OAAO;IAAE,CAAC,CACpC,CAAC,CACH;EACH,CAAC,CAAC;EACFH,EAAE,CAAC,wEAAwE,EAAE,MAAM;IACjF,MAAMC,KAAK,GAAG,CACZ;MAAEC,GAAG,EAAE,CAAC,MAAM,CAAC;MAAEC,KAAK,EAAE,CAAC,OAAO;IAAE,CAAC,EACnC;MAAED,GAAG,EAAE,CAAC,MAAM,CAAC;MAAEC,KAAK,EAAE,CAAC,OAAO;IAAE,CAAC,CACpC;IACD,MAAMC,MAAM,GAAG,IAAAC,6BAAW,EAACJ,KAAK,CAAC;IACjCK,MAAM,CAACF,MAAM,CAACK,MAAM,CAAC,CAACF,OAAO,CAAC,CAAC,CAAC;IAChC;IACAD,MAAM,CAACF,MAAM,CAAC,CAACG,OAAO,CAACD,MAAM,CAACE,eAAe,CAACP,KAAK,CAAC,CAAC;EACvD,CAAC,CAAC;AACJ,CAAC,CAAC"}