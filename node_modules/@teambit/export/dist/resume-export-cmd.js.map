{"version":3,"names":["ResumeExportCmd","constructor","scope","report","exportId","remotes","exportedIds","resumeExport","length","chalk","yellow","join"],"sources":["resume-export-cmd.ts"],"sourcesContent":["import chalk from 'chalk';\nimport { Command, CommandOptions } from '@teambit/cli';\nimport { ScopeMain } from '@teambit/scope';\n\nexport class ResumeExportCmd implements Command {\n  name = 'resume-export <export-id> <remotes...>';\n  description = 'EXPERIMENTAL. resume failed export';\n  extendedDescription = `resume failed export to persist the pending objects on the given remotes.\nthe export-id is the id the client got in the error message during the failure.\nalternatively, exporting to any one of the failed scopes, throws server-is-busy error with the export-id`;\n  alias = '';\n  options = [] as CommandOptions;\n  loader = true;\n  migration = true;\n  group = 'collaborate';\n  private = true;\n  remoteOp = true;\n\n  constructor(private scope: ScopeMain) {}\n\n  async report([exportId, remotes]: [string, string[]]): Promise<string> {\n    const exportedIds = await this.scope.resumeExport(exportId, remotes);\n    if (!exportedIds.length) return chalk.yellow('no components were left to persist for this export-id');\n    return `the following components were persisted successfully:\n${exportedIds.join('\\n')}`;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAIO,MAAMA,eAAe,CAAoB;EAc9CC,WAAW,CAASC,KAAgB,EAAE;IAAA,KAAlBA,KAAgB,GAAhBA,KAAgB;IAAA,8CAb7B,wCAAwC;IAAA,qDACjC,oCAAoC;IAAA,6DAC3B;AACzB;AACA,yGAAyG;IAAA,+CAC/F,EAAE;IAAA,iDACA,EAAE;IAAA,gDACH,IAAI;IAAA,mDACD,IAAI;IAAA,+CACR,aAAa;IAAA,iDACX,IAAI;IAAA,kDACH,IAAI;EAEwB;EAEvC,MAAMC,MAAM,CAAC,CAACC,QAAQ,EAAEC,OAAO,CAAqB,EAAmB;IACrE,MAAMC,WAAW,GAAG,MAAM,IAAI,CAACJ,KAAK,CAACK,YAAY,CAACH,QAAQ,EAAEC,OAAO,CAAC;IACpE,IAAI,CAACC,WAAW,CAACE,MAAM,EAAE,OAAOC,gBAAK,CAACC,MAAM,CAAC,uDAAuD,CAAC;IACrG,OAAQ;AACZ,EAAEJ,WAAW,CAACK,IAAI,CAAC,IAAI,CAAE,EAAC;EACxB;AACF;AAAC"}