{"version":3,"names":["HarmonyUiAppMain","constructor","application","ui","componentAspect","registerHarmonyApp","options","registerUiRoot","name","path","getHost","configFile","resolvePattern","resolveAspects","aspectDefs","provider","ApplicationAspect","UIAspect","ComponentAspect","MainRuntime","HarmonyUiAppAspect","addRuntime"],"sources":["harmony-ui-app.main.runtime.ts"],"sourcesContent":["import { ApplicationAspect, ApplicationMain } from '@teambit/application';\nimport { MainRuntime } from '@teambit/cli';\nimport UIAspect, { UiMain } from '@teambit/ui';\nimport { ComponentAspect, ComponentMain } from '@teambit/component';\nimport { HarmonyAppOptions } from './harmony-app-options';\nimport { HarmonyUiAppAspect } from './harmony-ui-app.aspect';\n// import { HarmonyUIApp } from './ui.application';\n\nexport class HarmonyUiAppMain {\n  constructor(private application: ApplicationMain, private ui: UiMain, private componentAspect: ComponentMain) {}\n\n  /**\n   * register a new harmony UI application.\n   */\n  registerHarmonyApp(options: HarmonyAppOptions) {\n    this.ui.registerUiRoot({\n      name: options.name,\n      path: this.componentAspect.getHost().path,\n      configFile: '',\n      async resolvePattern() {\n        return [];\n      },\n      async resolveAspects() {\n        return options.aspectDefs;\n      },\n    });\n\n    // this.application.registerApp(new HarmonyUIApp(options.name, this.ui));\n\n    return this;\n  }\n\n  static slots = [];\n\n  static dependencies = [ApplicationAspect, UIAspect, ComponentAspect];\n\n  static runtime = MainRuntime;\n\n  static async provider([application, ui, componentAspect]: [ApplicationMain, UiMain, ComponentMain]) {\n    return new HarmonyUiAppMain(application, ui, componentAspect);\n  }\n}\n\nHarmonyUiAppAspect.addRuntime(HarmonyUiAppMain);\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;;AAEO,MAAMA,gBAAgB,CAAC;EAC5BC,WAAW,CAASC,WAA4B,EAAUC,EAAU,EAAUC,eAA8B,EAAE;IAAA,KAA1FF,WAA4B,GAA5BA,WAA4B;IAAA,KAAUC,EAAU,GAAVA,EAAU;IAAA,KAAUC,eAA8B,GAA9BA,eAA8B;EAAG;;EAE/G;AACF;AACA;EACEC,kBAAkB,CAACC,OAA0B,EAAE;IAC7C,IAAI,CAACH,EAAE,CAACI,cAAc,CAAC;MACrBC,IAAI,EAAEF,OAAO,CAACE,IAAI;MAClBC,IAAI,EAAE,IAAI,CAACL,eAAe,CAACM,OAAO,EAAE,CAACD,IAAI;MACzCE,UAAU,EAAE,EAAE;MACd,MAAMC,cAAc,GAAG;QACrB,OAAO,EAAE;MACX,CAAC;MACD,MAAMC,cAAc,GAAG;QACrB,OAAOP,OAAO,CAACQ,UAAU;MAC3B;IACF,CAAC,CAAC;;IAEF;;IAEA,OAAO,IAAI;EACb;EAQA,aAAaC,QAAQ,CAAC,CAACb,WAAW,EAAEC,EAAE,EAAEC,eAAe,CAA2C,EAAE;IAClG,OAAO,IAAIJ,gBAAgB,CAACE,WAAW,EAAEC,EAAE,EAAEC,eAAe,CAAC;EAC/D;AACF;AAAC;AAAA,gCAjCYJ,gBAAgB,WAwBZ,EAAE;AAAA,gCAxBNA,gBAAgB,kBA0BL,CAACgB,gCAAiB,EAAEC,aAAQ,EAAEC,4BAAe,CAAC;AAAA,gCA1BzDlB,gBAAgB,aA4BVmB,kBAAW;AAO9BC,kCAAkB,CAACC,UAAU,CAACrB,gBAAgB,CAAC"}