{"version":3,"names":["BabelMain","constructor","logger","compiler","createCompiler","options","babelModule","babel","BabelCompiler","BabelAspect","id","getPackageJsonProps","main","provider","loggerExt","createLogger","MainRuntime","LoggerAspect","CompilerAspect","addRuntime"],"sources":["babel.main.runtime.ts"],"sourcesContent":["import { MainRuntime } from '@teambit/cli';\nimport { CompilerAspect, CompilerMain } from '@teambit/compiler';\nimport { Logger, LoggerAspect, LoggerMain } from '@teambit/logger';\nimport * as babel from '@babel/core';\nimport { BabelCompilerOptions } from './compiler-options';\nimport { BabelAspect } from './babel.aspect';\nimport { BabelCompiler } from './babel.compiler';\n\nexport class BabelMain {\n  constructor(private logger: Logger, private compiler: CompilerMain) {}\n\n  createCompiler(options: BabelCompilerOptions, babelModule = babel): BabelCompiler {\n    return new BabelCompiler(BabelAspect.id, this.logger, this.compiler, options, babelModule);\n  }\n\n  getPackageJsonProps() {\n    return {\n      main: 'dist/{main}.js',\n    };\n  }\n\n  static runtime = MainRuntime;\n  static dependencies = [LoggerAspect, CompilerAspect];\n\n  static async provider([loggerExt, compiler]: [LoggerMain, CompilerMain]) {\n    const logger = loggerExt.createLogger(BabelAspect.id);\n    return new BabelMain(logger, compiler);\n  }\n}\n\nBabelAspect.addRuntime(BabelMain);\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAAiD;AAAA;AAE1C,MAAMA,SAAS,CAAC;EACrBC,WAAW,CAASC,MAAc,EAAUC,QAAsB,EAAE;IAAA,KAAhDD,MAAc,GAAdA,MAAc;IAAA,KAAUC,QAAsB,GAAtBA,QAAsB;EAAG;EAErEC,cAAc,CAACC,OAA6B,EAAEC,WAAW,GAAGC,KAAK,IAAiB;IAChF,OAAO,KAAIC,uBAAa,EAACC,oBAAW,CAACC,EAAE,EAAE,IAAI,CAACR,MAAM,EAAE,IAAI,CAACC,QAAQ,EAAEE,OAAO,EAAEC,WAAW,CAAC;EAC5F;EAEAK,mBAAmB,GAAG;IACpB,OAAO;MACLC,IAAI,EAAE;IACR,CAAC;EACH;EAKA,aAAaC,QAAQ,CAAC,CAACC,SAAS,EAAEX,QAAQ,CAA6B,EAAE;IACvE,MAAMD,MAAM,GAAGY,SAAS,CAACC,YAAY,CAACN,oBAAW,CAACC,EAAE,CAAC;IACrD,OAAO,IAAIV,SAAS,CAACE,MAAM,EAAEC,QAAQ,CAAC;EACxC;AACF;AAAC;AAAA,gCApBYH,SAAS,aAaHgB,kBAAW;AAAA,gCAbjBhB,SAAS,kBAcE,CAACiB,sBAAY,EAAEC,0BAAc,CAAC;AAQtDT,oBAAW,CAACU,UAAU,CAACnB,SAAS,CAAC"}