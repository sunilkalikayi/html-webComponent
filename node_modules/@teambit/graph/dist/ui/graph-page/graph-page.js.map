{"version":3,"names":["GraphPage","componentWidgets","component","useContext","ComponentContext","filter","setFilter","useState","onCheckFilter","isFiltered","undefined","graph","error","loading","useGraphQuery","id","toString","code","styles","page","filters"],"sources":["graph-page.tsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\n\nimport { H2 } from '@teambit/documenter.ui.heading';\nimport { NotFoundPage } from '@teambit/design.ui.pages.not-found';\nimport { ServerErrorPage } from '@teambit/design.ui.pages.server-error';\nimport { ComponentContext } from '@teambit/component';\nimport { FullLoader } from '@teambit/ui-foundation.ui.full-loader';\n\nimport { useGraphQuery } from '../query';\nimport { DependenciesGraph } from '../dependencies-graph';\nimport { ComponentWidgetSlot } from '../../graph.ui.runtime';\nimport type { GraphFilter } from '../../model/graph-filters';\n\nimport { GraphFilters } from './graph-filters';\n\nimport styles from './graph-page.module.scss';\n\ntype GraphPageProps = {\n  componentWidgets: ComponentWidgetSlot;\n};\n\nexport function GraphPage({ componentWidgets }: GraphPageProps) {\n  const component = useContext(ComponentContext);\n\n  const [filter, setFilter] = useState<GraphFilter>('runtimeOnly');\n  const onCheckFilter = (isFiltered: boolean) => {\n    setFilter(isFiltered ? 'runtimeOnly' : undefined);\n  };\n\n  const { graph, error, loading } = useGraphQuery([component.id.toString()], filter);\n  if (error) return error.code === 404 ? <NotFoundPage /> : <ServerErrorPage />;\n  if (!graph) return <FullLoader />;\n\n  const isFiltered = filter === 'runtimeOnly';\n\n  return (\n    <div className={styles.page}>\n      <H2 size=\"xs\">Component Dependencies</H2>\n      <DependenciesGraph\n        componentWidgets={componentWidgets}\n        graph={graph}\n        rootNode={component.id}\n        className={styles.graph}\n      >\n        <GraphFilters\n          className={styles.filters}\n          disable={loading}\n          isFiltered={isFiltered}\n          onChangeFilter={onCheckFilter}\n        />\n      </DependenciesGraph>\n    </div>\n  );\n}\n"],"mappings":";;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAIA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAA8C;AAAA;AAMvC,SAASA,SAAS,CAAC;EAAEC;AAAiC,CAAC,EAAE;EAC9D,MAAMC,SAAS,GAAG,IAAAC,mBAAU,EAACC,6BAAgB,CAAC;EAE9C,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG,IAAAC,iBAAQ,EAAc,aAAa,CAAC;EAChE,MAAMC,aAAa,GAAIC,UAAmB,IAAK;IAC7CH,SAAS,CAACG,UAAU,GAAG,aAAa,GAAGC,SAAS,CAAC;EACnD,CAAC;EAED,MAAM;IAAEC,KAAK;IAAEC,KAAK;IAAEC;EAAQ,CAAC,GAAG,IAAAC,sBAAa,EAAC,CAACZ,SAAS,CAACa,EAAE,CAACC,QAAQ,EAAE,CAAC,EAAEX,MAAM,CAAC;EAClF,IAAIO,KAAK,EAAE,OAAOA,KAAK,CAACK,IAAI,KAAK,GAAG,gBAAG,+BAAC,6BAAY,OAAG,gBAAG,+BAAC,iCAAe,OAAG;EAC7E,IAAI,CAACN,KAAK,EAAE,oBAAO,+BAAC,4BAAU,OAAG;EAEjC,MAAMF,UAAU,GAAGJ,MAAM,KAAK,aAAa;EAE3C,oBACE;IAAK,SAAS,EAAEa,0BAAM,CAACC;EAAK,gBAC1B,+BAAC,kBAAE;IAAC,IAAI,EAAC;EAAI,4BAA4B,eACzC,+BAAC,sCAAiB;IAChB,gBAAgB,EAAElB,gBAAiB;IACnC,KAAK,EAAEU,KAAM;IACb,QAAQ,EAAET,SAAS,CAACa,EAAG;IACvB,SAAS,EAAEG,0BAAM,CAACP;EAAM,gBAExB,+BAAC,4BAAY;IACX,SAAS,EAAEO,0BAAM,CAACE,OAAQ;IAC1B,OAAO,EAAEP,OAAQ;IACjB,UAAU,EAAEJ,UAAW;IACvB,cAAc,EAAED;EAAc,EAC9B,CACgB,CAChB;AAEV"}