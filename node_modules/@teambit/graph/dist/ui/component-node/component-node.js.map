{"version":3,"names":["ComponentNode","node","type","rest","graphContext","useContext","ComponentGraphContext","component","id","classnames","styles","compNode","variants","firstRow","envIcon","mutedText","nameLine","link","ComponentUrl","toUrl","includeVersion","name","ellipsis","version","buffs","componentWidgets","toArray","map","widgetId","Widget","Breadcrumbs","componentId","className","scope","namespace","showSep","breadcrumbs"],"sources":["component-node.tsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport classnames from 'classnames';\nimport { mutedText } from '@teambit/base-ui.text.muted-text';\nimport { ComponentID } from '@teambit/component';\nimport { DeprecationIcon } from '@teambit/component.ui.deprecation-icon';\nimport { EnvIcon } from '@teambit/envs.ui.env-icon';\nimport { ellipsis } from '@teambit/design.ui.styles.ellipsis';\nimport { Card, CardProps } from '@teambit/base-ui.surfaces.card';\nimport { NavLink } from '@teambit/base-ui.routing.nav-link';\nimport { ComponentUrl } from '@teambit/component.modules.component-url';\nimport { NodeModel } from '../query/node-model';\nimport { ComponentGraphContext } from '../dependencies-graph/';\n\n// keep order: styles, then variants\nimport styles from './component-node.module.scss';\nimport variants from './variants.module.scss';\n\nexport interface ComponentNode extends CardProps {\n  node: NodeModel;\n  type: string;\n}\n\nexport function ComponentNode({ node, type = 'defaultNode', ...rest }: ComponentNode) {\n  const graphContext = useContext(ComponentGraphContext);\n  const { component } = node;\n  const { id } = component;\n\n  return (\n    <Card className={classnames(styles.compNode, variants[type])} elevation=\"none\" {...rest}>\n      <div className={styles.firstRow}>\n        <EnvIcon component={component} className={styles.envIcon} />\n        <Breadcrumbs componentId={id} className={mutedText} />\n      </div>\n      <div className={styles.nameLine}>\n        <NavLink className={styles.link} external={true} href={ComponentUrl.toUrl(id, { includeVersion: false })}>\n          <span className={classnames(styles.name, ellipsis)}>{id.name}</span>\n        </NavLink>\n        {id.version && <span className={classnames(styles.version, ellipsis)}>{id.version}</span>}\n\n        <div className={styles.buffs}>\n          <DeprecationIcon component={component} />\n          {graphContext &&\n            graphContext.componentWidgets\n              .toArray()\n              .map(([widgetId, Widget]) => <Widget key={widgetId} component={component} />)}\n        </div>\n      </div>\n    </Card>\n  );\n}\n\ntype BreadcrumbsProps = { componentId: ComponentID } & React.HTMLAttributes<HTMLDivElement>;\n\nfunction Breadcrumbs({ componentId, className, ...rest }: BreadcrumbsProps) {\n  const { scope, namespace } = componentId;\n  const showSep = !!scope && !!namespace;\n\n  return (\n    <div {...rest} className={classnames(styles.breadcrumbs, ellipsis, className)}>\n      {scope}\n      {showSep && '/'}\n      {namespace}\n    </div>\n  );\n}\n"],"mappings":"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"}