{"version":3,"names":["getVariant","nodeType","defaultNode","variants","external","DependencyCompareNode","props","node","type","id","baseIdStr","component","baseComponent","compareVersion","status","version","baseVersion","baseId","ComponentID","fromString","versionDiff","useMemo","valid","compare","classnames","componentNodeStyles","compNode","firstRow","envIcon","mutedText","nameLine","styles","link","ComponentUrl","toUrl","includeVersion","name","ellipsis","arrowIcon","versionUp","versionDown","buffs","undefined","Breadcrumbs","componentId","className","rest","scope","namespace","showSep","breadcrumbs"],"sources":["dependency-compare-node.tsx"],"sourcesContent":["import { NavLink } from '@teambit/base-ui.routing.nav-link';\nimport { Card } from '@teambit/base-ui.surfaces.card';\nimport { mutedText } from '@teambit/base-ui.text.muted-text';\nimport { ComponentID } from '@teambit/component';\nimport { ComponentUrl } from '@teambit/component.modules.component-url';\nimport { CompareStatusResolver } from '@teambit/component.ui.compare';\nimport { DeprecationIcon } from '@teambit/component.ui.deprecation-icon';\nimport { ellipsis } from '@teambit/design.ui.styles.ellipsis';\nimport { EnvIcon } from '@teambit/envs.ui.env-icon';\nimport { componentNodeStyles, defaultNode, external } from '@teambit/graph';\nimport classnames from 'classnames';\nimport React, { useMemo } from 'react';\nimport { compare, valid } from 'semver';\nimport { CompareNodeModel } from './compare-node-model';\nimport styles from './dependency-compare-node.module.scss';\nimport variants from './dependency-compare-variants.module.scss';\n\nfunction getVariant(nodeType?: string) {\n  switch (nodeType) {\n    case 'defaultNode':\n      return defaultNode;\n    case 'root':\n      return variants[nodeType];\n    case 'external':\n      return external;\n    default:\n      return null;\n  }\n}\n\nexport type DependencyCompareNodeProps = {\n  node: CompareNodeModel;\n  type?: string;\n};\n\nexport function DependencyCompareNode(props: DependencyCompareNodeProps) {\n  const { node, type = 'defaultNode' } = props;\n  const { id: baseIdStr, component: baseComponent, compareVersion, status } = node;\n  const { version: baseVersion } = baseComponent;\n  const baseId = ComponentID.fromString(baseIdStr);\n  const versionDiff = useMemo(\n    () => valid(baseVersion) && valid(compareVersion) && compare(baseVersion, compareVersion),\n    [baseVersion, compareVersion]\n  );\n\n  return (\n    <Card className={classnames(componentNodeStyles.compNode, getVariant(type))} elevation=\"none\">\n      <div className={componentNodeStyles.firstRow}>\n        <EnvIcon component={baseComponent} className={componentNodeStyles.envIcon} />\n        <Breadcrumbs componentId={baseId} className={mutedText} />\n      </div>\n      <div className={componentNodeStyles.nameLine}>\n        <NavLink className={styles.link} external={true} href={ComponentUrl.toUrl(baseId, { includeVersion: false })}>\n          <span className={classnames(componentNodeStyles.name, ellipsis)}>{baseId.name}</span>\n        </NavLink>\n        {baseId.version && <span className={classnames(componentNodeStyles.version, ellipsis)}>{baseId.version}</span>}\n        {versionDiff !== 0 && (\n          <img\n            className={classnames([styles.arrowIcon, styles.versionUp])}\n            src=\"https://static.bit.dev/bit-icons/version-bump.svg\"\n          />\n        )}\n        {compareVersion && versionDiff !== 0 && (\n          <span\n            className={classnames(\n              styles.version,\n              componentNodeStyles.version,\n              ellipsis,\n              versionDiff === -1 && styles.versionUp,\n              versionDiff === 1 && styles.versionDown\n            )}\n          >\n            {compareVersion}\n          </span>\n        )}\n\n        <div className={styles.buffs}>\n          <DeprecationIcon component={baseComponent} />\n          {status !== undefined && <CompareStatusResolver status={status} />}\n        </div>\n      </div>\n    </Card>\n  );\n}\n\ntype BreadcrumbsProps = { componentId: ComponentID } & React.HTMLAttributes<HTMLDivElement>;\n\nfunction Breadcrumbs({ componentId, className, ...rest }: BreadcrumbsProps) {\n  const { scope, namespace } = componentId;\n  const showSep = !!scope && !!namespace;\n\n  return (\n    <div {...rest} className={classnames(styles.breadcrumbs, ellipsis, className)}>\n      {scope}\n      {showSep && '/'}\n      {namespace}\n    </div>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAAiE;AAAA;AAEjE,SAASA,UAAU,CAACC,QAAiB,EAAE;EACrC,QAAQA,QAAQ;IACd,KAAK,aAAa;MAChB,OAAOC,oBAAW;IACpB,KAAK,MAAM;MACT,OAAOC,0CAAQ,CAACF,QAAQ,CAAC;IAC3B,KAAK,UAAU;MACb,OAAOG,iBAAQ;IACjB;MACE,OAAO,IAAI;EAAC;AAElB;AAOO,SAASC,qBAAqB,CAACC,KAAiC,EAAE;EACvE,MAAM;IAAEC,IAAI;IAAEC,IAAI,GAAG;EAAc,CAAC,GAAGF,KAAK;EAC5C,MAAM;IAAEG,EAAE,EAAEC,SAAS;IAAEC,SAAS,EAAEC,aAAa;IAAEC,cAAc;IAAEC;EAAO,CAAC,GAAGP,IAAI;EAChF,MAAM;IAAEQ,OAAO,EAAEC;EAAY,CAAC,GAAGJ,aAAa;EAC9C,MAAMK,MAAM,GAAGC,wBAAW,CAACC,UAAU,CAACT,SAAS,CAAC;EAChD,MAAMU,WAAW,GAAG,IAAAC,gBAAO,EACzB,MAAM,IAAAC,eAAK,EAACN,WAAW,CAAC,IAAI,IAAAM,eAAK,EAACT,cAAc,CAAC,IAAI,IAAAU,iBAAO,EAACP,WAAW,EAAEH,cAAc,CAAC,EACzF,CAACG,WAAW,EAAEH,cAAc,CAAC,CAC9B;EAED,oBACE,+BAAC,sBAAI;IAAC,SAAS,EAAE,IAAAW,qBAAU,EAACC,4BAAmB,CAACC,QAAQ,EAAE1B,UAAU,CAACQ,IAAI,CAAC,CAAE;IAAC,SAAS,EAAC;EAAM,gBAC3F;IAAK,SAAS,EAAEiB,4BAAmB,CAACE;EAAS,gBAC3C,+BAAC,iBAAO;IAAC,SAAS,EAAEf,aAAc;IAAC,SAAS,EAAEa,4BAAmB,CAACG;EAAQ,EAAG,eAC7E,+BAAC,WAAW;IAAC,WAAW,EAAEX,MAAO;IAAC,SAAS,EAAEY;EAAU,EAAG,CACtD,eACN;IAAK,SAAS,EAAEJ,4BAAmB,CAACK;EAAS,gBAC3C,+BAAC,wBAAO;IAAC,SAAS,EAAEC,sCAAM,CAACC,IAAK;IAAC,QAAQ,EAAE,IAAK;IAAC,IAAI,EAAEC,gCAAY,CAACC,KAAK,CAACjB,MAAM,EAAE;MAAEkB,cAAc,EAAE;IAAM,CAAC;EAAE,gBAC3G;IAAM,SAAS,EAAE,IAAAX,qBAAU,EAACC,4BAAmB,CAACW,IAAI,EAAEC,0BAAQ;EAAE,GAAEpB,MAAM,CAACmB,IAAI,CAAQ,CAC7E,EACTnB,MAAM,CAACF,OAAO,iBAAI;IAAM,SAAS,EAAE,IAAAS,qBAAU,EAACC,4BAAmB,CAACV,OAAO,EAAEsB,0BAAQ;EAAE,GAAEpB,MAAM,CAACF,OAAO,CAAQ,EAC7GK,WAAW,KAAK,CAAC,iBAChB;IACE,SAAS,EAAE,IAAAI,qBAAU,EAAC,CAACO,sCAAM,CAACO,SAAS,EAAEP,sCAAM,CAACQ,SAAS,CAAC,CAAE;IAC5D,GAAG,EAAC;EAAmD,EAE1D,EACA1B,cAAc,IAAIO,WAAW,KAAK,CAAC,iBAClC;IACE,SAAS,EAAE,IAAAI,qBAAU,EACnBO,sCAAM,CAAChB,OAAO,EACdU,4BAAmB,CAACV,OAAO,EAC3BsB,0BAAQ,EACRjB,WAAW,KAAK,CAAC,CAAC,IAAIW,sCAAM,CAACQ,SAAS,EACtCnB,WAAW,KAAK,CAAC,IAAIW,sCAAM,CAACS,WAAW;EACvC,GAED3B,cAAc,CAElB,eAED;IAAK,SAAS,EAAEkB,sCAAM,CAACU;EAAM,gBAC3B,+BAAC,+BAAe;IAAC,SAAS,EAAE7B;EAAc,EAAG,EAC5CE,MAAM,KAAK4B,SAAS,iBAAI,+BAAC,oCAAqB;IAAC,MAAM,EAAE5B;EAAO,EAAG,CAC9D,CACF,CACD;AAEX;AAIA,SAAS6B,WAAW,OAAwD;EAAA,IAAvD;MAAEC,WAAW;MAAEC;IAAqC,CAAC;IAAxBC,IAAI;EACpD,MAAM;IAAEC,KAAK;IAAEC;EAAU,CAAC,GAAGJ,WAAW;EACxC,MAAMK,OAAO,GAAG,CAAC,CAACF,KAAK,IAAI,CAAC,CAACC,SAAS;EAEtC,oBACE,mEAASF,IAAI;IAAE,SAAS,EAAE,IAAAtB,qBAAU,EAACO,sCAAM,CAACmB,WAAW,EAAEb,0BAAQ,EAAEQ,SAAS;EAAE,IAC3EE,KAAK,EACLE,OAAO,IAAI,GAAG,EACdD,SAAS,CACN;AAEV"}