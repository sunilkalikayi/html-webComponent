{"version":3,"names":["useComponent","host","id","options","query","useQuery","version","logFilters","customUseComponent","componentVersion","get","undefined","TypeError","componentIdStr","withVersion","targetUseComponent","useComponentQuery","includes"],"sources":["use-component.tsx"],"sourcesContent":["import { useQuery } from '@teambit/ui-foundation.ui.react-router.use-query';\nimport { ComponentDescriptor } from '@teambit/component-descriptor';\nimport { ComponentModel } from './component-model';\nimport { ComponentError } from './component-error';\nimport { Filters, useComponentQuery } from './use-component-query';\n\nexport type Component = {\n  component?: ComponentModel;\n  error?: ComponentError;\n  componentDescriptor?: ComponentDescriptor;\n  loading?: boolean;\n};\nexport type UseComponentOptions = {\n  version?: string;\n  logFilters?: Filters;\n  customUseComponent?: UseComponentType;\n};\n\nexport type UseComponentType = (id: string, host: string, filters?: Filters) => Component;\n\nexport function useComponent(host: string, id?: string, options?: UseComponentOptions): Component {\n  const query = useQuery();\n  const { version, logFilters, customUseComponent } = options || {};\n  const componentVersion = (version || query.get('version')) ?? undefined;\n\n  if (!id) throw new TypeError('useComponent received no component id');\n\n  const componentIdStr = withVersion(id, componentVersion);\n  const targetUseComponent = customUseComponent || useComponentQuery;\n\n  return targetUseComponent(componentIdStr, host, logFilters);\n}\n\nfunction withVersion(id: string, version?: string) {\n  if (!version) return id;\n  if (id.includes('@')) return id;\n  return `${id}@${version}`;\n}\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAIA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAgBO,SAASA,YAAY,CAACC,IAAY,EAAEC,EAAW,EAAEC,OAA6B,EAAa;EAAA;EAChG,MAAMC,KAAK,GAAG,IAAAC,qCAAQ,GAAE;EACxB,MAAM;IAAEC,OAAO;IAAEC,UAAU;IAAEC;EAAmB,CAAC,GAAGL,OAAO,IAAI,CAAC,CAAC;EACjE,MAAMM,gBAAgB,WAAIH,OAAO,IAAIF,KAAK,CAACM,GAAG,CAAC,SAAS,CAAC,uCAAKC,SAAS;EAEvE,IAAI,CAACT,EAAE,EAAE,MAAM,IAAIU,SAAS,CAAC,uCAAuC,CAAC;EAErE,MAAMC,cAAc,GAAGC,WAAW,CAACZ,EAAE,EAAEO,gBAAgB,CAAC;EACxD,MAAMM,kBAAkB,GAAGP,kBAAkB,IAAIQ,sCAAiB;EAElE,OAAOD,kBAAkB,CAACF,cAAc,EAAEZ,IAAI,EAAEM,UAAU,CAAC;AAC7D;AAEA,SAASO,WAAW,CAACZ,EAAU,EAAEI,OAAgB,EAAE;EACjD,IAAI,CAACA,OAAO,EAAE,OAAOJ,EAAE;EACvB,IAAIA,EAAE,CAACe,QAAQ,CAAC,GAAG,CAAC,EAAE,OAAOf,EAAE;EAC/B,OAAQ,GAAEA,EAAG,IAAGI,OAAQ,EAAC;AAC3B"}