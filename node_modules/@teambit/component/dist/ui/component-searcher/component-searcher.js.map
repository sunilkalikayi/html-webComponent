{"version":3,"names":["searchKeys","ComponentSearcher","FuzzySearcher","constructor","options","item","navigate","resultPlugins","component","id","fullName","action","children","updatePlugins","plugins","test","term","startsWith","length","toSearchableItem","name","displayName"],"sources":["component-searcher.tsx"],"sourcesContent":["import React from 'react';\n\nimport { ComponentModel } from '@teambit/component';\nimport { SearchResult, FuzzySearchItem, FuzzySearcher } from '@teambit/explorer.ui.command-bar';\nimport type { SearchProvider } from '@teambit/command-bar';\nimport { ComponentResult, ComponentResultPlugin } from './component-result';\n\nexport type { ComponentResultPlugin };\n\ntype ComponentSearchIdx = {\n  name: string;\n  displayName: string;\n  component: ComponentModel;\n};\n\nconst searchKeys: (keyof ComponentSearchIdx)[] = ['displayName', 'name'];\n\ntype ComponentSearcherOptions = {\n  navigate: (path: string) => void;\n  resultPlugins?: ComponentResultPlugin[];\n};\n\nexport class ComponentSearcher extends FuzzySearcher<ComponentModel, ComponentSearchIdx> implements SearchProvider {\n  constructor(public options: ComponentSearcherOptions) {\n    super({ searchKeys });\n  }\n\n  updatePlugins(plugins: ComponentResultPlugin[]) {\n    this.options = {\n      ...this.options,\n      resultPlugins: plugins,\n    };\n  }\n\n  override test(term: string): boolean {\n    return !term.startsWith('>') && term.length > 0;\n  }\n\n  protected override toSearchableItem(item: ComponentModel): ComponentSearchIdx {\n    return {\n      name: item.id.name,\n      displayName: item.id.fullName,\n      component: item,\n    };\n  }\n\n  protected override toSearchResult = ({ item }: FuzzySearchItem<ComponentSearchIdx>): SearchResult => {\n    const { navigate, resultPlugins } = this.options;\n    const { component } = item;\n\n    return {\n      id: component.id.fullName,\n      action: () => navigate(`/${component.id.fullName}`),\n      children: <ComponentResult component={component} plugins={resultPlugins} />,\n    };\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAGA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAA4E;AAAA;AAU5E,MAAMA,UAAwC,GAAG,CAAC,aAAa,EAAE,MAAM,CAAC;AAOjE,MAAMC,iBAAiB,SAASC,2BAAa,CAA+D;EACjHC,WAAW,CAAQC,OAAiC,EAAE;IACpD,KAAK,CAAC;MAAEJ;IAAW,CAAC,CAAC;IAAC,KADLI,OAAiC,GAAjCA,OAAiC;IAAA,wDAuBhB,CAAC;MAAEC;IAA0C,CAAC,KAAmB;MACnG,MAAM;QAAEC,QAAQ;QAAEC;MAAc,CAAC,GAAG,IAAI,CAACH,OAAO;MAChD,MAAM;QAAEI;MAAU,CAAC,GAAGH,IAAI;MAE1B,OAAO;QACLI,EAAE,EAAED,SAAS,CAACC,EAAE,CAACC,QAAQ;QACzBC,MAAM,EAAE,MAAML,QAAQ,CAAE,IAAGE,SAAS,CAACC,EAAE,CAACC,QAAS,EAAC,CAAC;QACnDE,QAAQ,eAAE,+BAAC,kCAAe;UAAC,SAAS,EAAEJ,SAAU;UAAC,OAAO,EAAED;QAAc;MAC1E,CAAC;IACH,CAAC;EA9BD;EAEAM,aAAa,CAACC,OAAgC,EAAE;IAC9C,IAAI,CAACV,OAAO,mCACP,IAAI,CAACA,OAAO;MACfG,aAAa,EAAEO;IAAO,EACvB;EACH;EAESC,IAAI,CAACC,IAAY,EAAW;IACnC,OAAO,CAACA,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,IAAID,IAAI,CAACE,MAAM,GAAG,CAAC;EACjD;EAEmBC,gBAAgB,CAACd,IAAoB,EAAsB;IAC5E,OAAO;MACLe,IAAI,EAAEf,IAAI,CAACI,EAAE,CAACW,IAAI;MAClBC,WAAW,EAAEhB,IAAI,CAACI,EAAE,CAACC,QAAQ;MAC7BF,SAAS,EAAEH;IACb,CAAC;EACH;AAYF;AAAC"}