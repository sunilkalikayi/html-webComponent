import { SlotRegistry } from '@teambit/harmony';
import { CLIMain } from '@teambit/cli';
import { LoggerMain, Logger } from '@teambit/logger';
import { ScopeMain } from '@teambit/scope';
import { BuilderMain } from '@teambit/builder';
import { Component, ComponentID } from '@teambit/component';
import { SnappingMain } from '@teambit/snapping';
import { LanesMain } from '@teambit/lanes';
export declare type SignResult = {
    components: Component[];
    publishedPackages: string[];
    error: string | null;
};
declare type OnPostSign = (components: Component[]) => Promise<void>;
declare type OnPostSignSlot = SlotRegistry<OnPostSign>;
export declare class SignMain {
    private scope;
    private logger;
    private builder;
    private onPostSignSlot;
    private lanes;
    private snapping;
    constructor(scope: ScopeMain, logger: Logger, builder: BuilderMain, onPostSignSlot: OnPostSignSlot, lanes: LanesMain, snapping: SnappingMain);
    /**
     * complete the build process of a component.
     * `isMultiple` indicates that this is running on a new bare-scope and not on the original scope.
     * it's recommended to always use it, even when it's a single component and not multiple.
     * (the reason for this name is that for multiple components from multiple scopes, it must be done on a new bare-scope).
     *
     * important! this method mutates the legacyScope. it assigns the currentLaneId according to the `bit sign --lane` flag.
     * if for some reason you're using this API in a long-running-process, make sure to revert it.
     */
    sign(ids: ComponentID[], isMultiple?: boolean, push?: boolean, laneIdStr?: string): Promise<SignResult | null>;
    registerOnPostSign(fn: OnPostSign): void;
    triggerOnPostSign(components: Component[]): Promise<void>;
    private clearScopesCaches;
    private saveExtensionsDataIntoScope;
    private exportExtensionsDataIntoScopes;
    private getComponentIdsToSign;
    static runtime: import("@teambit/harmony").RuntimeDefinition;
    static dependencies: import("@teambit/harmony").Aspect[];
    static slots: ((registerFn: () => string) => SlotRegistry<OnPostSignSlot>)[];
    static provider([cli, scope, loggerMain, builder, lanes, snapping]: [
        CLIMain,
        ScopeMain,
        LoggerMain,
        BuilderMain,
        LanesMain,
        SnappingMain
    ], _: any, [onPostSignSlot]: [OnPostSignSlot]): Promise<SignMain>;
}
export {};
