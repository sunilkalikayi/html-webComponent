{"version":3,"names":["BitCustomAspectMain","provider","envs","aspect","mocha","tester","createTester","babelConfig","testerOverride","override","getTester","depsOverride","overrideDependencies","devDependencies","chai","bitCustomAspect","compose","registerEnv","EnvsAspect","AspectAspect","MochaAspect","MainRuntime","BitCustomAspectAspect","addRuntime"],"sources":["bit-custom-aspect.main.runtime.ts"],"sourcesContent":["import AspectAspect, { AspectMain } from '@teambit/aspect';\nimport { MainRuntime } from '@teambit/cli';\nimport EnvsAspect, { EnvsMain } from '@teambit/envs';\nimport MochaAspect, { MochaMain } from '@teambit/mocha';\nimport { BitCustomAspectAspect } from './bit-custom-aspect.aspect';\n\nexport class BitCustomAspectMain {\n  static slots = [];\n  static dependencies = [EnvsAspect, AspectAspect, MochaAspect];\n  static runtime = MainRuntime;\n  static async provider([envs, aspect, mocha]: [EnvsMain, AspectMain, MochaMain]) {\n    const tester = mocha.createTester({}, aspect.babelConfig);\n    const testerOverride = envs.override({\n      getTester: () => tester,\n    });\n    const depsOverride = aspect.overrideDependencies({ devDependencies: { chai: '4.3.0' } });\n    const bitCustomAspect = aspect.compose([testerOverride, depsOverride]);\n    envs.registerEnv(bitCustomAspect);\n    return new BitCustomAspectMain();\n  }\n}\n\nBitCustomAspectAspect.addRuntime(BitCustomAspectMain);\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEO,MAAMA,mBAAmB,CAAC;EAI/B,aAAaC,QAAQ,CAAC,CAACC,IAAI,EAAEC,MAAM,EAAEC,KAAK,CAAoC,EAAE;IAC9E,MAAMC,MAAM,GAAGD,KAAK,CAACE,YAAY,CAAC,CAAC,CAAC,EAAEH,MAAM,CAACI,WAAW,CAAC;IACzD,MAAMC,cAAc,GAAGN,IAAI,CAACO,QAAQ,CAAC;MACnCC,SAAS,EAAE,MAAML;IACnB,CAAC,CAAC;IACF,MAAMM,YAAY,GAAGR,MAAM,CAACS,oBAAoB,CAAC;MAAEC,eAAe,EAAE;QAAEC,IAAI,EAAE;MAAQ;IAAE,CAAC,CAAC;IACxF,MAAMC,eAAe,GAAGZ,MAAM,CAACa,OAAO,CAAC,CAACR,cAAc,EAAEG,YAAY,CAAC,CAAC;IACtET,IAAI,CAACe,WAAW,CAACF,eAAe,CAAC;IACjC,OAAO,IAAIf,mBAAmB,EAAE;EAClC;AACF;AAAC;AAAA,gCAdYA,mBAAmB,WACf,EAAE;AAAA,gCADNA,mBAAmB,kBAER,CAACkB,eAAU,EAAEC,iBAAY,EAAEC,gBAAW,CAAC;AAAA,gCAFlDpB,mBAAmB,aAGbqB,kBAAW;AAa9BC,wCAAqB,CAACC,UAAU,CAACvB,mBAAmB,CAAC"}