"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
require("core-js/modules/es.array.iterator.js");
require("core-js/modules/es.promise.js");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ComponentSizerMain = void 0;
function _defineProperty2() {
  const data = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
  _defineProperty2 = function () {
    return data;
  };
  return data;
}
function _cli() {
  const data = require("@teambit/cli");
  _cli = function () {
    return data;
  };
  return data;
}
function _component() {
  const data = _interopRequireDefault(require("@teambit/component"));
  _component = function () {
    return data;
  };
  return data;
}
function _graphql() {
  const data = _interopRequireDefault(require("@teambit/graphql"));
  _graphql = function () {
    return data;
  };
  return data;
}
function _preview() {
  const data = _interopRequireDefault(require("@teambit/preview"));
  _preview = function () {
    return data;
  };
  return data;
}
function _componentSizer() {
  const data = require("./component-sizer.aspect");
  _componentSizer = function () {
    return data;
  };
  return data;
}
function _componentSizer2() {
  const data = require("./component-sizer.graphql");
  _componentSizer2 = function () {
    return data;
  };
  return data;
}
class ComponentSizerMain {
  constructor(
  /**
   * preview aspect.
   */
  preview) {
    this.preview = preview;
  }
  getComponentSize(component) {
    return this.preview.getComponentBundleSize(component);
  }
  static async provider([preview, graphql]) {
    const componentSizer = new ComponentSizerMain(preview);
    graphql.register((0, _componentSizer2().componentSizerSchema)(componentSizer));
    return componentSizer;
  }
}
exports.ComponentSizerMain = ComponentSizerMain;
(0, _defineProperty2().default)(ComponentSizerMain, "slots", []);
(0, _defineProperty2().default)(ComponentSizerMain, "dependencies", [_preview().default, _graphql().default, _component().default]);
(0, _defineProperty2().default)(ComponentSizerMain, "runtime", _cli().MainRuntime);
_componentSizer().ComponentSizerAspect.addRuntime(ComponentSizerMain);

//# sourceMappingURL=component-sizer.main.runtime.js.map