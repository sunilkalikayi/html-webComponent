{"version":3,"names":["guardSnapshot","snapshot","describe","it","result","generatePeerLink","expect","toEqual"],"sources":["create-peer-link.spec.ts"],"sourcesContent":["import { generatePeerLink } from './create-peers-link';\n\nconst guardSnapshot = `function guard(property, expected) {\n  var existing = globalObj[property];\n\n  if (existing === expected && expected !== undefined)\n    console.warn('[expose-peers] \"' + property + '\" already exists in global scope, but with correct value');\n  else if (existing !== undefined)\n    throw new Error('[expose-peers] \"' + property + '\" already exists in the global scope, cannot overwrite');\n}`;\n\nconst snapshot = `// @ts-nocheck\nimport * as FooBar from \"foo-bar\";\nimport * as BuzQux from \"@buz/qux\";\n\nconst globalObj = window;\n\nguard(\"FooBar\", FooBar);\nguard(\"BuzQux\", BuzQux);\n\nglobalObj[\"FooBar\"] = FooBar;\nglobalObj[\"BuzQux\"] = BuzQux;\n\n${guardSnapshot}\n`;\n\ndescribe('peers link', () => {\n  it('should output snapshot', () => {\n    const result = generatePeerLink(['foo-bar', '@buz/qux']);\n\n    expect(result).toEqual(snapshot);\n  });\n});\n"],"mappings":";;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA,MAAMA,aAAa,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AAEF,MAAMC,QAAQ,GAAI;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAED,aAAc;AAChB,CAAC;AAEDE,QAAQ,CAAC,YAAY,EAAE,MAAM;EAC3BC,EAAE,CAAC,wBAAwB,EAAE,MAAM;IACjC,MAAMC,MAAM,GAAG,IAAAC,mCAAgB,EAAC,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;IAExDC,MAAM,CAACF,MAAM,CAAC,CAACG,OAAO,CAACN,QAAQ,CAAC;EAClC,CAAC,CAAC;AACJ,CAAC,CAAC"}