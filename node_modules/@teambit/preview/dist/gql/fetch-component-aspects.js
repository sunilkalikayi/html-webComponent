"use strict";

require("core-js/modules/es.promise.js");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.fetchComponentAspects = fetchComponentAspects;
function _graphqlRequest() {
  const data = require("graphql-request");
  _graphqlRequest = function () {
    return data;
  };
  return data;
}
const GQL_SERVER = '/graphql';
const GET_COMPONENT_ASPECTS = (0, _graphqlRequest().gql)`
  query getComponentAspects($id: String!) {
    getHost {
      id
      get(id: $id) {
        aspects {
          id
        }
      }
    }
  }
`;
async function fetchComponentAspects(componentId) {
  try {
    const response = await (0, _graphqlRequest().request)(GQL_SERVER, GET_COMPONENT_ASPECTS, {
      id: componentId.toString()
    });
    return response.getHost.get.aspects.map(x => x.id);
  } catch (err) {
    // eslint-disable-next-line no-console
    console.error(`[gql] error on "getComponentAspects" - "${err.toString()}"`);
    return undefined;
  }
}

//# sourceMappingURL=fetch-component-aspects.js.map