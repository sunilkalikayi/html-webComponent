{"version":3,"names":["CapsuleList","Array","getCapsule","id","find","capsule","component","isEqual","getCapsuleByLegacyId","_legacy","getCapsuleIgnoreVersion","ignoreVersion","getCapsuleIgnoreScopeAndVersion","isEqualWithoutScopeAndVersion","getAllCapsuleDirs","map","path","getIdByPathInCapsule","pathInCapsule","normalizedPathInCapsule","normalize","found","getAllComponents","c","fromArray","capsules"],"sources":["capsule-list.ts"],"sourcesContent":["import type { Component, ComponentID } from '@teambit/component';\nimport { normalize } from 'path';\nimport { BitId } from '@teambit/legacy-bit-id';\nimport { Capsule } from './capsule';\n\nexport default class CapsuleList extends Array<Capsule> {\n  getCapsule(id: ComponentID): Capsule | undefined {\n    return this.find((capsule) => capsule.component.id.isEqual(id));\n  }\n  getCapsuleByLegacyId(id: BitId): Capsule | undefined {\n    return this.find((capsule) => capsule.component.id._legacy.isEqual(id));\n  }\n  getCapsuleIgnoreVersion(id: ComponentID): Capsule | undefined {\n    return this.find((capsule) => capsule.component.id.isEqual(id, { ignoreVersion: true }));\n  }\n  getCapsuleIgnoreScopeAndVersion(id: ComponentID): Capsule | undefined {\n    return this.find((capsule) => capsule.component.id._legacy.isEqualWithoutScopeAndVersion(id._legacy));\n  }\n  getAllCapsuleDirs(): string[] {\n    return this.map((capsule) => capsule.path);\n  }\n  getIdByPathInCapsule(pathInCapsule: string): ComponentID | null {\n    const normalizedPathInCapsule = normalize(pathInCapsule);\n    const found = this.find((capsule) => normalizedPathInCapsule === normalize(capsule.path));\n    return found ? found.component.id : null;\n  }\n  getAllComponents(): Component[] {\n    return this.map((c) => c.component);\n  }\n  static fromArray(capsules: Capsule[]) {\n    return new CapsuleList(...capsules);\n  }\n}\n"],"mappings":";;;;;;;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAIe,MAAMA,WAAW,SAASC,KAAK,CAAU;EACtDC,UAAU,CAACC,EAAe,EAAuB;IAC/C,OAAO,IAAI,CAACC,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACC,SAAS,CAACH,EAAE,CAACI,OAAO,CAACJ,EAAE,CAAC,CAAC;EACjE;EACAK,oBAAoB,CAACL,EAAS,EAAuB;IACnD,OAAO,IAAI,CAACC,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACC,SAAS,CAACH,EAAE,CAACM,OAAO,CAACF,OAAO,CAACJ,EAAE,CAAC,CAAC;EACzE;EACAO,uBAAuB,CAACP,EAAe,EAAuB;IAC5D,OAAO,IAAI,CAACC,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACC,SAAS,CAACH,EAAE,CAACI,OAAO,CAACJ,EAAE,EAAE;MAAEQ,aAAa,EAAE;IAAK,CAAC,CAAC,CAAC;EAC1F;EACAC,+BAA+B,CAACT,EAAe,EAAuB;IACpE,OAAO,IAAI,CAACC,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACC,SAAS,CAACH,EAAE,CAACM,OAAO,CAACI,6BAA6B,CAACV,EAAE,CAACM,OAAO,CAAC,CAAC;EACvG;EACAK,iBAAiB,GAAa;IAC5B,OAAO,IAAI,CAACC,GAAG,CAAEV,OAAO,IAAKA,OAAO,CAACW,IAAI,CAAC;EAC5C;EACAC,oBAAoB,CAACC,aAAqB,EAAsB;IAC9D,MAAMC,uBAAuB,GAAG,IAAAC,iBAAS,EAACF,aAAa,CAAC;IACxD,MAAMG,KAAK,GAAG,IAAI,CAACjB,IAAI,CAAEC,OAAO,IAAKc,uBAAuB,KAAK,IAAAC,iBAAS,EAACf,OAAO,CAACW,IAAI,CAAC,CAAC;IACzF,OAAOK,KAAK,GAAGA,KAAK,CAACf,SAAS,CAACH,EAAE,GAAG,IAAI;EAC1C;EACAmB,gBAAgB,GAAgB;IAC9B,OAAO,IAAI,CAACP,GAAG,CAAEQ,CAAC,IAAKA,CAAC,CAACjB,SAAS,CAAC;EACrC;EACA,OAAOkB,SAAS,CAACC,QAAmB,EAAE;IACpC,OAAO,IAAIzB,WAAW,CAAC,GAAGyB,QAAQ,CAAC;EACrC;AACF;AAAC"}