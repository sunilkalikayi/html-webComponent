{"version":3,"names":["EnvPolicyFactory","fromConfigObject","configObject","validateEnvPolicy","variantConfigObject","pick","variantPolicyFactory","VariantPolicyFactory","variantPolicy","peersAutoDetectEntries","peers","peersAutoDetectPolicy","PeersAutoDetectPolicy","EnvPolicy","getEmpty"],"sources":["env-policy-factory.ts"],"sourcesContent":["import { pick } from 'lodash';\nimport { EnvPolicy, EnvPolicyConfigObject } from './env-policy';\nimport { VariantPolicyFactory } from '..';\nimport { PeersAutoDetectPolicy } from './peers-auto-detect-policy';\nimport { validateEnvPolicy } from './validate-env-policy';\n\nexport class EnvPolicyFactory {\n  fromConfigObject(configObject: EnvPolicyConfigObject): EnvPolicy {\n    validateEnvPolicy(configObject);\n    const variantConfigObject = pick(configObject, ['dependencies', 'devDependencies', 'peerDependencies']);\n    const variantPolicyFactory = new VariantPolicyFactory();\n    const variantPolicy = variantPolicyFactory.fromConfigObject(variantConfigObject, 'env');\n    const peersAutoDetectEntries = configObject.peers ?? [];\n    const peersAutoDetectPolicy = new PeersAutoDetectPolicy(peersAutoDetectEntries);\n    return new EnvPolicy(variantPolicy, peersAutoDetectPolicy);\n  }\n\n  getEmpty(): EnvPolicy {\n    const variantPolicyFactory = new VariantPolicyFactory();\n    return new EnvPolicy(variantPolicyFactory.getEmpty(), new PeersAutoDetectPolicy([]));\n  }\n}\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEO,MAAMA,gBAAgB,CAAC;EAC5BC,gBAAgB,CAACC,YAAmC,EAAa;IAAA;IAC/D,IAAAC,sCAAiB,EAACD,YAAY,CAAC;IAC/B,MAAME,mBAAmB,GAAG,IAAAC,cAAI,EAACH,YAAY,EAAE,CAAC,cAAc,EAAE,iBAAiB,EAAE,kBAAkB,CAAC,CAAC;IACvG,MAAMI,oBAAoB,GAAG,KAAIC,wBAAoB,GAAE;IACvD,MAAMC,aAAa,GAAGF,oBAAoB,CAACL,gBAAgB,CAACG,mBAAmB,EAAE,KAAK,CAAC;IACvF,MAAMK,sBAAsB,0BAAGP,YAAY,CAACQ,KAAK,qEAAI,EAAE;IACvD,MAAMC,qBAAqB,GAAG,KAAIC,8CAAqB,EAACH,sBAAsB,CAAC;IAC/E,OAAO,KAAII,sBAAS,EAACL,aAAa,EAAEG,qBAAqB,CAAC;EAC5D;EAEAG,QAAQ,GAAc;IACpB,MAAMR,oBAAoB,GAAG,KAAIC,wBAAoB,GAAE;IACvD,OAAO,KAAIM,sBAAS,EAACP,oBAAoB,CAACQ,QAAQ,EAAE,EAAE,KAAIF,8CAAqB,EAAC,EAAE,CAAC,CAAC;EACtF;AACF;AAAC"}