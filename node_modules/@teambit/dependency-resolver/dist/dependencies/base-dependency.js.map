{"version":3,"names":["BaseDependency","constructor","_id","_version","_lifecycle","_source","id","newId","version","type","_type","lifecycle","source","serialize","__type","toString","setVersion","newVersion","getPackageName","toManifest","packageName"],"sources":["base-dependency.ts"],"sourcesContent":["import { DependencySource } from '../policy/variant-policy/variant-policy';\nimport { Dependency, DependencyLifecycleType, DependencyManifest } from './dependency';\n\nexport abstract class BaseDependency implements Dependency {\n  _type: string;\n\n  constructor(\n    private _id: string,\n    private _version: string,\n    private _lifecycle: DependencyLifecycleType,\n    private _source?: DependencySource\n  ) {}\n\n  get id() {\n    return this._id;\n  }\n\n  set id(newId: string) {\n    this._id = newId;\n  }\n\n  get version() {\n    return this._version;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  get lifecycle() {\n    return this._lifecycle;\n  }\n\n  get source() {\n    return this._source;\n  }\n\n  set source(source) {\n    this._source = source;\n  }\n\n  serialize<SerializedDependency>(): SerializedDependency {\n    return {\n      id: this.id,\n      version: this.version,\n      __type: this.type,\n      lifecycle: this.lifecycle.toString(),\n      source: this.source,\n    } as unknown as SerializedDependency;\n  }\n\n  setVersion(newVersion: string) {\n    this._version = newVersion;\n  }\n\n  getPackageName() {\n    return this.id;\n  }\n\n  toManifest(): DependencyManifest {\n    const packageName = this.getPackageName?.();\n    const version = this.version;\n    return {\n      packageName,\n      version,\n    };\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;AAGO,MAAeA,cAAc,CAAuB;EAGzDC,WAAW,CACDC,GAAW,EACXC,QAAgB,EAChBC,UAAmC,EACnCC,OAA0B,EAClC;IAAA,KAJQH,GAAW,GAAXA,GAAW;IAAA,KACXC,QAAgB,GAAhBA,QAAgB;IAAA,KAChBC,UAAmC,GAAnCA,UAAmC;IAAA,KACnCC,OAA0B,GAA1BA,OAA0B;IAAA;EACjC;EAEH,IAAIC,EAAE,GAAG;IACP,OAAO,IAAI,CAACJ,GAAG;EACjB;EAEA,IAAII,EAAE,CAACC,KAAa,EAAE;IACpB,IAAI,CAACL,GAAG,GAAGK,KAAK;EAClB;EAEA,IAAIC,OAAO,GAAG;IACZ,OAAO,IAAI,CAACL,QAAQ;EACtB;EAEA,IAAIM,IAAI,GAAG;IACT,OAAO,IAAI,CAACC,KAAK;EACnB;EAEA,IAAIC,SAAS,GAAG;IACd,OAAO,IAAI,CAACP,UAAU;EACxB;EAEA,IAAIQ,MAAM,GAAG;IACX,OAAO,IAAI,CAACP,OAAO;EACrB;EAEA,IAAIO,MAAM,CAACA,MAAM,EAAE;IACjB,IAAI,CAACP,OAAO,GAAGO,MAAM;EACvB;EAEAC,SAAS,GAA+C;IACtD,OAAO;MACLP,EAAE,EAAE,IAAI,CAACA,EAAE;MACXE,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBM,MAAM,EAAE,IAAI,CAACL,IAAI;MACjBE,SAAS,EAAE,IAAI,CAACA,SAAS,CAACI,QAAQ,EAAE;MACpCH,MAAM,EAAE,IAAI,CAACA;IACf,CAAC;EACH;EAEAI,UAAU,CAACC,UAAkB,EAAE;IAC7B,IAAI,CAACd,QAAQ,GAAGc,UAAU;EAC5B;EAEAC,cAAc,GAAG;IACf,OAAO,IAAI,CAACZ,EAAE;EAChB;EAEAa,UAAU,GAAuB;IAAA;IAC/B,MAAMC,WAAW,2BAAG,IAAI,CAACF,cAAc,yDAAnB,8BAAI,CAAmB;IAC3C,MAAMV,OAAO,GAAG,IAAI,CAACA,OAAO;IAC5B,OAAO;MACLY,WAAW;MACXZ;IACF,CAAC;EACH;AACF;AAAC"}