{"version":3,"names":["Registries","constructor","defaultRegistry","scopes","setDefaultRegistry","registry","updateScopedRegistry","name"],"sources":["registries.ts"],"sourcesContent":["import { Registry } from './registry';\n\nexport class Registries {\n  constructor(\n    /**\n     * default registry.\n     */\n    readonly defaultRegistry: Registry,\n\n    /**\n     * map of all scoped registries.\n     */\n    readonly scopes: Record<string, Registry>\n  ) {}\n\n  setDefaultRegistry(registry: Registry): Registries {\n    return new Registries(registry, this.scopes);\n  }\n\n  updateScopedRegistry(name: string, registry: Registry) {\n    const scopes = this.scopes;\n    scopes[name] = registry;\n    return new Registries(this.defaultRegistry, scopes);\n  }\n}\n"],"mappings":";;;;;;AAEO,MAAMA,UAAU,CAAC;EACtBC,WAAW;EACT;AACJ;AACA;EACaC,eAAyB;EAElC;AACJ;AACA;EACaC,MAAgC,EACzC;IAAA,KANSD,eAAyB,GAAzBA,eAAyB;IAAA,KAKzBC,MAAgC,GAAhCA,MAAgC;EACxC;EAEHC,kBAAkB,CAACC,QAAkB,EAAc;IACjD,OAAO,IAAIL,UAAU,CAACK,QAAQ,EAAE,IAAI,CAACF,MAAM,CAAC;EAC9C;EAEAG,oBAAoB,CAACC,IAAY,EAAEF,QAAkB,EAAE;IACrD,MAAMF,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1BA,MAAM,CAACI,IAAI,CAAC,GAAGF,QAAQ;IACvB,OAAO,IAAIL,UAAU,CAAC,IAAI,CAACE,eAAe,EAAEC,MAAM,CAAC;EACrD;AACF;AAAC"}