{"version":3,"names":["Registry","constructor","uri","alwaysAuth","authHeaderValue","originalAuthType","originalAuthValue","token","authData","getAuthDataFromHeader","type","credentials","undefined","baseToken"],"sources":["registry.ts"],"sourcesContent":["import { getAuthDataFromHeader } from '@teambit/legacy/dist/scope/network/http/http';\n\nexport class Registry {\n  constructor(\n    /**\n     * uri of the registry.\n     */\n    readonly uri: string,\n\n    /**\n     * always authenticate.\n     */\n    readonly alwaysAuth: boolean,\n\n    /**\n     * authentication header.\n     */\n    readonly authHeaderValue?: string,\n\n    /**\n     * Type of auth as it appears in the npmrc file\n     * authToken\n     * auth\n     * user-pass\n     */\n    readonly originalAuthType?: string,\n\n    /**\n     * original auth value as it appears in npmrc file\n     * for user/pass it will appear as user:pass\n     */\n    readonly originalAuthValue?: string\n  ) {}\n\n  get token(): string | undefined {\n    const authData = getAuthDataFromHeader(this.authHeaderValue);\n    return authData && authData.type === 'Bearer' ? authData.credentials : undefined;\n  }\n\n  /**\n   * Support for basic token or user/pass\n   */\n  get baseToken(): string | undefined {\n    const authData = getAuthDataFromHeader(this.authHeaderValue);\n    return authData && authData.type === 'Basic' ? authData.credentials : undefined;\n  }\n}\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEO,MAAMA,QAAQ,CAAC;EACpBC,WAAW;EACT;AACJ;AACA;EACaC,GAAW;EAEpB;AACJ;AACA;EACaC,UAAmB;EAE5B;AACJ;AACA;EACaC,eAAwB;EAEjC;AACJ;AACA;AACA;AACA;AACA;EACaC,gBAAyB;EAElC;AACJ;AACA;AACA;EACaC,iBAA0B,EACnC;IAAA,KAzBSJ,GAAW,GAAXA,GAAW;IAAA,KAKXC,UAAmB,GAAnBA,UAAmB;IAAA,KAKnBC,eAAwB,GAAxBA,eAAwB;IAAA,KAQxBC,gBAAyB,GAAzBA,gBAAyB;IAAA,KAMzBC,iBAA0B,GAA1BA,iBAA0B;EAClC;EAEH,IAAIC,KAAK,GAAuB;IAC9B,MAAMC,QAAQ,GAAG,IAAAC,6BAAqB,EAAC,IAAI,CAACL,eAAe,CAAC;IAC5D,OAAOI,QAAQ,IAAIA,QAAQ,CAACE,IAAI,KAAK,QAAQ,GAAGF,QAAQ,CAACG,WAAW,GAAGC,SAAS;EAClF;;EAEA;AACF;AACA;EACE,IAAIC,SAAS,GAAuB;IAClC,MAAML,QAAQ,GAAG,IAAAC,6BAAqB,EAAC,IAAI,CAACL,eAAe,CAAC;IAC5D,OAAOI,QAAQ,IAAIA,QAAQ,CAACE,IAAI,KAAK,OAAO,GAAGF,QAAQ,CAACG,WAAW,GAAGC,SAAS;EACjF;AACF;AAAC"}