{"version":3,"names":["getWrapperTemplateFn","elementsPrefix","wrapperTemplateFn","context","kababName","decamelize","componentName","elementName","toWindowsCompatiblePath","mainFilePath"],"sources":["element-wrapper-template.ts"],"sourcesContent":["import { ElementsWrapperContext, ElementsWrapperFn } from '@teambit/elements';\nimport { toWindowsCompatiblePath } from '@teambit/toolbox.path.to-windows-compatible-path';\n\nimport decamelize from 'decamelize';\n\nexport type GetWrapperOpts = {\n  elementsPrefix: string;\n};\n\nexport function getWrapperTemplateFn({ elementsPrefix = 'x' }: GetWrapperOpts) {\n  const wrapperTemplateFn: ElementsWrapperFn = (context: ElementsWrapperContext) => {\n    const kababName = decamelize(context.componentName);\n    const elementName = elementsPrefix ? `${elementsPrefix}-${kababName}` : kababName;\n    return `import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Component from '${toWindowsCompatiblePath(context.mainFilePath)}';\nclass ${context.componentName} extends HTMLElement {\n  connectedCallback() {\n    const mountPoint = document.createElement('span');\n    this.attachShadow({ mode: 'open' }).appendChild(mountPoint);\n    const el = this;\n    const props = this.getAttributeNames().reduce((acc, curr) => {\n      acc[curr] = el.getAttribute(curr);\n      return acc;\n    }, {})\n    ReactDOM.render(<Component {...props}></Component>, mountPoint);\n  }\n}\ncustomElements.define('${elementName}', ${context.componentName});`;\n  };\n  return wrapperTemplateFn;\n}\n"],"mappings":";;;;;;;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAMO,SAASA,oBAAoB,CAAC;EAAEC,cAAc,GAAG;AAAoB,CAAC,EAAE;EAC7E,MAAMC,iBAAoC,GAAIC,OAA+B,IAAK;IAChF,MAAMC,SAAS,GAAG,IAAAC,qBAAU,EAACF,OAAO,CAACG,aAAa,CAAC;IACnD,MAAMC,WAAW,GAAGN,cAAc,GAAI,GAAEA,cAAe,IAAGG,SAAU,EAAC,GAAGA,SAAS;IACjF,OAAQ;AACZ;AACA,yBAAyB,IAAAI,sCAAuB,EAACL,OAAO,CAACM,YAAY,CAAE;AACvE,QAAQN,OAAO,CAACG,aAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyBC,WAAY,MAAKJ,OAAO,CAACG,aAAc,IAAG;EACjE,CAAC;EACD,OAAOJ,iBAAiB;AAC1B"}