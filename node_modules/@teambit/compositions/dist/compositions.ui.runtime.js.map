{"version":3,"names":["CompositionsUI","constructor","menuBarWidgetSlot","emptyStateSlot","registerEmptyState","emptyStateComponent","register","registerMenuWidget","widget","provider","component","componentCompare","config","compositionMenuSlot","compositions","section","CompositionsSection","compositionCompare","CompositionCompareSection","registerRoute","route","registerNavigation","navigationLink","order","props","registerRoutes","ComponentAspect","ComponentCompareAspect","UIRuntime","Slot","withType","CompositionsAspect","addRuntime"],"sources":["compositions.ui.runtime.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\nimport { ComponentType } from 'react';\nimport { Slot, SlotRegistry } from '@teambit/harmony';\nimport { ComponentAspect, ComponentUI } from '@teambit/component';\nimport { UIRuntime } from '@teambit/ui';\nimport { ComponentCompareUI, ComponentCompareAspect } from '@teambit/component-compare';\nimport { CompositionsSection } from './composition.section';\nimport { CompositionsAspect } from './compositions.aspect';\nimport { MenuBarWidget } from './compositions';\nimport { CompositionCompareSection } from './composition.compare.section';\n\nexport type CompositionsMenuSlot = SlotRegistry<MenuBarWidget[]>;\nexport type EmptyStateSlot = SlotRegistry<ComponentType>;\n\nexport class CompositionsUI {\n  constructor(private menuBarWidgetSlot: CompositionsMenuSlot, private emptyStateSlot: EmptyStateSlot) {}\n\n  /**\n   * register a new tester empty state. this allows to register a different empty state from each environment for example.\n   */\n  registerEmptyState(emptyStateComponent: ComponentType) {\n    this.emptyStateSlot.register(emptyStateComponent);\n    return this;\n  }\n\n  registerMenuWidget(...widget: MenuBarWidget[]) {\n    this.menuBarWidgetSlot.register(widget);\n  }\n\n  static dependencies = [ComponentAspect, ComponentCompareAspect];\n  static runtime = UIRuntime;\n  static slots = [Slot.withType<ReactNode>(), Slot.withType<ComponentType>()];\n\n  static async provider(\n    [component, componentCompare]: [ComponentUI, ComponentCompareUI],\n    config: {},\n    [compositionMenuSlot, emptyStateSlot]: [CompositionsMenuSlot, EmptyStateSlot]\n  ) {\n    const compositions = new CompositionsUI(compositionMenuSlot, emptyStateSlot);\n    const section = new CompositionsSection(\n      compositions,\n      { menuBarWidgetSlot: compositions.menuBarWidgetSlot },\n      emptyStateSlot\n    );\n    const compositionCompare = new CompositionCompareSection(emptyStateSlot);\n\n    component.registerRoute(section.route);\n    component.registerNavigation(section.navigationLink, section.order);\n    componentCompare.registerNavigation({\n      props: compositionCompare.navigationLink,\n      order: compositionCompare.navigationLink.order,\n    });\n    componentCompare.registerRoutes([compositionCompare.route]);\n    return compositions;\n  }\n}\n\nexport default CompositionsUI;\n\nCompositionsAspect.addRuntime(CompositionsUI);\n"],"mappings":";;;;;;;;;;;;;;;;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAKO,MAAMA,cAAc,CAAC;EAC1BC,WAAW,CAASC,iBAAuC,EAAUC,cAA8B,EAAE;IAAA,KAAjFD,iBAAuC,GAAvCA,iBAAuC;IAAA,KAAUC,cAA8B,GAA9BA,cAA8B;EAAG;;EAEtG;AACF;AACA;EACEC,kBAAkB,CAACC,mBAAkC,EAAE;IACrD,IAAI,CAACF,cAAc,CAACG,QAAQ,CAACD,mBAAmB,CAAC;IACjD,OAAO,IAAI;EACb;EAEAE,kBAAkB,CAAC,GAAGC,MAAuB,EAAE;IAC7C,IAAI,CAACN,iBAAiB,CAACI,QAAQ,CAACE,MAAM,CAAC;EACzC;EAMA,aAAaC,QAAQ,CACnB,CAACC,SAAS,EAAEC,gBAAgB,CAAoC,EAChEC,MAAU,EACV,CAACC,mBAAmB,EAAEV,cAAc,CAAyC,EAC7E;IACA,MAAMW,YAAY,GAAG,IAAId,cAAc,CAACa,mBAAmB,EAAEV,cAAc,CAAC;IAC5E,MAAMY,OAAO,GAAG,KAAIC,kCAAmB,EACrCF,YAAY,EACZ;MAAEZ,iBAAiB,EAAEY,YAAY,CAACZ;IAAkB,CAAC,EACrDC,cAAc,CACf;IACD,MAAMc,kBAAkB,GAAG,KAAIC,+CAAyB,EAACf,cAAc,CAAC;IAExEO,SAAS,CAACS,aAAa,CAACJ,OAAO,CAACK,KAAK,CAAC;IACtCV,SAAS,CAACW,kBAAkB,CAACN,OAAO,CAACO,cAAc,EAAEP,OAAO,CAACQ,KAAK,CAAC;IACnEZ,gBAAgB,CAACU,kBAAkB,CAAC;MAClCG,KAAK,EAAEP,kBAAkB,CAACK,cAAc;MACxCC,KAAK,EAAEN,kBAAkB,CAACK,cAAc,CAACC;IAC3C,CAAC,CAAC;IACFZ,gBAAgB,CAACc,cAAc,CAAC,CAACR,kBAAkB,CAACG,KAAK,CAAC,CAAC;IAC3D,OAAON,YAAY;EACrB;AACF;AAAC;AAAA,gCAzCYd,cAAc,kBAeH,CAAC0B,4BAAe,EAAEC,0CAAsB,CAAC;AAAA,gCAfpD3B,cAAc,aAgBR4B,eAAS;AAAA,gCAhBf5B,cAAc,WAiBV,CAAC6B,eAAI,CAACC,QAAQ,EAAa,EAAED,eAAI,CAACC,QAAQ,EAAiB,CAAC;AAAA,eA0B9D9B,cAAc;AAAA;AAE7B+B,kCAAkB,CAACC,UAAU,CAAChC,cAAc,CAAC"}