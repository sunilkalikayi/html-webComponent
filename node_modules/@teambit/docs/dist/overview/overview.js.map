{"version":3,"names":["BadgePosition","Overview","titleBadges","component","useContext","ComponentContext","componentDescriptor","useComponentDescriptor","showHeader","preview","legacyHeader","buildStatus","host","margin","isScaling","styles","overviewWrapper","classNames","componentOverviewBlock","legacyPreview","displayName","version","description","labels","packageName","flatten","values","width","height"],"sources":["overview.tsx"],"sourcesContent":["import React, { useContext, ComponentType } from 'react';\nimport classNames from 'classnames';\nimport { flatten } from 'lodash';\nimport { ComponentContext, useComponentDescriptor } from '@teambit/component';\nimport type { SlotRegistry } from '@teambit/harmony';\nimport { ComponentPreview } from '@teambit/preview.ui.component-preview';\nimport { StatusMessageCard } from '@teambit/design.ui.surfaces.status-message-card';\nimport { ComponentOverview } from '@teambit/component.ui.component-meta';\n\nimport styles from './overview.module.scss';\n\nexport enum BadgePosition {\n  Title,\n  SubTitle,\n  Labels,\n  Package,\n  ElementsPackage,\n}\n\nexport type TitleBadge = {\n  component: ComponentType<any>;\n  weight?: number;\n  position?: BadgePosition;\n};\n\nexport type TitleBadgeSlot = SlotRegistry<TitleBadge[]>;\n\nexport type OverviewProps = {\n  titleBadges: TitleBadgeSlot;\n};\n\nexport function Overview({ titleBadges }: OverviewProps) {\n  const component = useContext(ComponentContext);\n  const componentDescriptor = useComponentDescriptor();\n\n  const showHeader = !component.preview?.legacyHeader;\n\n  if (component?.buildStatus === 'pending' && component?.host === 'teambit.scope/scope')\n    return (\n      <StatusMessageCard style={{ margin: 'auto' }} status=\"PROCESSING\" title=\"component preview pending\">\n        this might take some time\n      </StatusMessageCard>\n    );\n\n  if (component?.buildStatus === 'failed' && component?.host === 'teambit.scope/scope')\n    return <StatusMessageCard style={{ margin: 'auto' }} status=\"FAILURE\" title=\"failed to get component preview \" />;\n\n  const isScaling = component.preview?.isScaling;\n\n  return (\n    <div className={styles.overviewWrapper}>\n      {showHeader && (\n        <ComponentOverview\n          className={classNames(styles.componentOverviewBlock, !isScaling && styles.legacyPreview)}\n          displayName={component.displayName}\n          version={component.version}\n          abstract={component.description}\n          labels={component.labels}\n          packageName={component.packageName}\n          titleBadges={flatten(titleBadges.values())}\n          componentDescriptor={componentDescriptor}\n          component={component}\n        />\n      )}\n      <ComponentPreview\n        component={component}\n        style={{ width: '100%', height: '100%' }}\n        previewName=\"overview\"\n        pubsub={true}\n        viewport={null}\n        fullContentHeight\n        scrolling=\"no\"\n      />\n    </div>\n  );\n}\n"],"mappings":";;;;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAA4C;AAAA;AAAA,IAEhCA,aAAa;AAAA;AAAA,WAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;AAAA,GAAbA,aAAa,6BAAbA,aAAa;AAoBlB,SAASC,QAAQ,CAAC;EAAEC;AAA2B,CAAC,EAAE;EAAA;EACvD,MAAMC,SAAS,GAAG,IAAAC,mBAAU,EAACC,6BAAgB,CAAC;EAC9C,MAAMC,mBAAmB,GAAG,IAAAC,mCAAsB,GAAE;EAEpD,MAAMC,UAAU,GAAG,wBAACL,SAAS,CAACM,OAAO,+CAAjB,mBAAmBC,YAAY;EAEnD,IAAI,CAAAP,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEQ,WAAW,MAAK,SAAS,IAAI,CAAAR,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAES,IAAI,MAAK,qBAAqB,EACnF,oBACE,+BAAC,qCAAiB;IAAC,KAAK,EAAE;MAAEC,MAAM,EAAE;IAAO,CAAE;IAAC,MAAM,EAAC,YAAY;IAAC,KAAK,EAAC;EAA2B,+BAE/E;EAGxB,IAAI,CAAAV,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEQ,WAAW,MAAK,QAAQ,IAAI,CAAAR,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAES,IAAI,MAAK,qBAAqB,EAClF,oBAAO,+BAAC,qCAAiB;IAAC,KAAK,EAAE;MAAEC,MAAM,EAAE;IAAO,CAAE;IAAC,MAAM,EAAC,SAAS;IAAC,KAAK,EAAC;EAAkC,EAAG;EAEnH,MAAMC,SAAS,0BAAGX,SAAS,CAACM,OAAO,wDAAjB,oBAAmBK,SAAS;EAE9C,oBACE;IAAK,SAAS,EAAEC,yBAAM,CAACC;EAAgB,GACpCR,UAAU,iBACT,+BAAC,gCAAiB;IAChB,SAAS,EAAE,IAAAS,qBAAU,EAACF,yBAAM,CAACG,sBAAsB,EAAE,CAACJ,SAAS,IAAIC,yBAAM,CAACI,aAAa,CAAE;IACzF,WAAW,EAAEhB,SAAS,CAACiB,WAAY;IACnC,OAAO,EAAEjB,SAAS,CAACkB,OAAQ;IAC3B,QAAQ,EAAElB,SAAS,CAACmB,WAAY;IAChC,MAAM,EAAEnB,SAAS,CAACoB,MAAO;IACzB,WAAW,EAAEpB,SAAS,CAACqB,WAAY;IACnC,WAAW,EAAE,IAAAC,iBAAO,EAACvB,WAAW,CAACwB,MAAM,EAAE,CAAE;IAC3C,mBAAmB,EAAEpB,mBAAoB;IACzC,SAAS,EAAEH;EAAU,EAExB,eACD,+BAAC,6BAAgB;IACf,SAAS,EAAEA,SAAU;IACrB,KAAK,EAAE;MAAEwB,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAO,CAAE;IACzC,WAAW,EAAC,UAAU;IACtB,MAAM,EAAE,IAAK;IACb,QAAQ,EAAE,IAAK;IACf,iBAAiB;IACjB,SAAS,EAAC;EAAI,EACd,CACE;AAEV"}