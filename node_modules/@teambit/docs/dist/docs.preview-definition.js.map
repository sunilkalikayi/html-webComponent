{"version":3,"names":["DocsPreviewDefinition","constructor","docs","renderTemplatePath","context","renderTemplatePathByEnv","env","getTemplate","getModuleMap","components","map","getDocsMap"],"sources":["docs.preview-definition.ts"],"sourcesContent":["import { Component, ComponentMap } from '@teambit/component';\nimport type { Environment, ExecutionContext } from '@teambit/envs';\nimport { PreviewDefinition } from '@teambit/preview';\nimport { AbstractVinyl } from '@teambit/legacy/dist/consumer/component/sources';\n\nimport { DocsMain } from './docs.main.runtime';\n\nexport class DocsPreviewDefinition implements PreviewDefinition {\n  readonly prefix = 'overview';\n  readonly include = ['compositions'];\n  readonly includePeers = true;\n\n  constructor(\n    /**\n     * docs extension.\n     */\n    private docs: DocsMain\n  ) {}\n\n  /**\n   * application root\n   */\n  async renderTemplatePath(context: ExecutionContext): Promise<string> {\n    return this.renderTemplatePathByEnv(context.env);\n  }\n\n  async renderTemplatePathByEnv(env: Environment) {\n    return this.docs.getTemplate(env);\n  }\n\n  /**\n   * files to load.\n   */\n  async getModuleMap(components: Component[]): Promise<ComponentMap<AbstractVinyl[]>> {\n    const map = this.docs.getDocsMap(components);\n    return map;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;AAOO,MAAMA,qBAAqB,CAA8B;EAK9DC,WAAW;EACT;AACJ;AACA;EACYC,IAAc,EACtB;IAAA,KADQA,IAAc,GAAdA,IAAc;IAAA,gDARN,UAAU;IAAA,iDACT,CAAC,cAAc,CAAC;IAAA,sDACX,IAAI;EAOzB;;EAEH;AACF;AACA;EACE,MAAMC,kBAAkB,CAACC,OAAyB,EAAmB;IACnE,OAAO,IAAI,CAACC,uBAAuB,CAACD,OAAO,CAACE,GAAG,CAAC;EAClD;EAEA,MAAMD,uBAAuB,CAACC,GAAgB,EAAE;IAC9C,OAAO,IAAI,CAACJ,IAAI,CAACK,WAAW,CAACD,GAAG,CAAC;EACnC;;EAEA;AACF;AACA;EACE,MAAME,YAAY,CAACC,UAAuB,EAA0C;IAClF,MAAMC,GAAG,GAAG,IAAI,CAACR,IAAI,CAACS,UAAU,CAACF,UAAU,CAAC;IAC5C,OAAOC,GAAG;EACZ;AACF;AAAC"}